<!doctype html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../common/doxygen.css">
	<link rel="stylesheet" href="../common/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="dynsections.js"></script>
	<script src="../common/sidebar.js"></script>
    <title>HOOPS Exchange Documentation</title>
    <link rel="shortcut icon" href="../common/favicon.ico">
</head>
<body>
<div class="header-background">
	<div class="header-margins">
        <div style="float: left;"><img src="../product/images/logo.png"></div>
        <div style="margin-left: 520px; margin-right: 20px;">
            <div class="search" id="Search"> 
                <form method="get" action="http://developer.techsoft3d.com/cgi/swish-hoops-exchange.cgi" enctype="application/x-www-form-urlencoded" class="form">
                    <label style='color: gray;'>Search: </label>
                    <input maxlength="200" value="" size="20" name="query" type="text">
                </form>
            </div>
        </div>
    </div>
</div>
<div class="cdiv">
<div class="content-body">
<div class="content-internalframe"><!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="contents">
<div class="textblock"><p> 
</div></div>
</p>
<h2>1.1 Initializing HOOPS Exchange</h2>
<p>Several steps are required in order to initialize HOOPS Exchange, which include loading the libraries, setting the license key, and initializing the library's internal structures.</p>
<h4>Prerequisite: Initialize the environment</h4>
<p>HOOPS Exchange uses <a href="https://en.wikipedia.org/wiki/Dynamic_loading" target="_blank">dynamic loading</a> during its execution. If you are using HOOPS Exchange on a Linux or OS X platform, you must configure your compiler for this requirement. This means defining the <span class="code">HAVE_DLFCN_H</span> preprocessor flag and linking against <a href="http://pubs.opengroup.org/onlinepubs/007908775/xsh/dlfcn.h.html" target="_blank">DLFCN</a> using the <span class="code">-ldl</span> linker option.</p>
<p>Because HOOPS Exchange effectively links at run time, you do not need to specify any link libraries during compilation. You do, however, still need to point to the HOOPS Exchange headers, which can be found at <span class="filename">&lt;HOOPS_EXCHANGE&gt;/include</span>.</p>
<p>To use the HOOPS Exchange API you need to include <span class="filename">A3DSDKIncludes.h</span> in your source and define <span class="code">INITIALIZE_A3D_API</span>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define INITIALIZE_A3D_API</span></div>
<div class="line"><span class="preprocessor">#include &quot;A3DSDKIncludes.h&quot;</span></div>
</div><!-- fragment --><p>In order to run an application built on HOOPS Exchange on Windows platforms, Visual Studio 2008 and Visual Studio 2010 redistributables must be installed on the target machine.</p>
<h3>Automatic initialization</h3>
<p>HOOPS Exchange can initialize itself automatically in most cases using the HOOPS Exchange Loader. You need to provide the path where you've installed HOOPS Exchange:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#ga30c9a82db37458d1a9ab7d4a1b70b623">A3DUTF8Char</a>* pcLibPath = <span class="stringliteral">&quot;/&lt;my_path&gt;/HOOPS_Exchange/bin/&lt;my_platform&gt;&quot;</span>;</div>
<div class="line">A3DSDKHOOPSExchangeLoader sHoopsExchangeLoader(pcLibPath);</div>
</div><!-- fragment --><p>Although the HOOPS Exchange Loader does most of the initialization by itself, you still need to provide your license key by copying <span class="filename">A3DSDKLicenseKey.h</span> to <span class="code">/&lt;my_path&gt;/HOOPS_Exchange/include</span>. That header file can be generated on the HOOPS Exchange downloads page in the Tech Soft 3D Developer Zone. You don't need to specifically include it using an <span class="code">include</span> directive - <span class="filename">A3DSDKIncludes.h</span> will include it for you.</p>
<p>Once the loader is instantiated, you can load a CAD file using the following code:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_error_codes_8h.html#a17437603063ca9478a3303e98b5b72c5">A3DStatus</a> importResult = sHoopsExchangeLoader.Import(A3DImport(filename));</div>
</div><!-- fragment --><p>If necessary, see the "ImportExport" sample project for an example of how the HOOPS Exchange Loader is used in an application.</p>
<h3>Manual initialization</h3>
<p>If you need more control over each step of the HOOPS Exchange initialization process, you can perform the steps below as an alternative to using the HOOPS Exchange Loader.</p>
<h4>Step 1: Runtime initializations</h4>
<p>Locate the HOOPS Exchange libraries by calling <span class="code">A3DSDKLoadLibrary</span>.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (A3DSDKLoadLibrary(<span class="stringliteral">&quot;/&lt;my_path&gt;/HOOPS_Exchange/bin/&lt;my_platform&gt;&quot;</span>) == <span class="keyword">false</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// handle load library error</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>For extra safety, you should also check that the major and minor library versions match what is in the HOOPS Exchange header, as different versions of HOOPS Exchange are not binary compatible.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iMajorVersion, iMinorVersion;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__base__functions.html#ga7006133e593780493c5e0314ea51aac3">A3DDllGetVersion</a>(&amp;iMajorVersion, &amp;iMinorVersion);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> ( iMajorVersion != A3D_DLL_MAJORVERSION || iMinorVersion != A3D_DLL_MINORVERSION )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// handle library mismatch error</span></div>
<div class="line">}</div>
</div><!-- fragment --><h4>Step 2: Setting the license</h4>
<p>Your license key can be generated on the HOOPS Exchange downloads page in the Tech Soft 3D Developer Zone. The key is delivered in a header file called <span class="filename">A3DSDKLicenseKey.h</span>. Replace the existing <span class="filename">A3DSDKLicenseKey.h</span> in <span class="filename">&lt;HOOPS_EXCHANGE&gt;/include</span> with this new file. Lastly, call <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__license__module.html#ga9d154a957c156fedcc59d5e24a6543ab">A3DLicPutLicense</a> at run time:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__license__module.html#ga9d154a957c156fedcc59d5e24a6543ab">A3DLicPutLicense</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__license__module.html#gab5814cd86785b8f1c222252fb9dca05d">A3DLicPutLicenseFile</a>, myCustomerKey, myProductKey) != A3D_SUCCESS)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// handle license error</span></div>
<div class="line">}</div>
</div><!-- fragment --><h4>Step 3: Initialize internal structures</h4>
<p>The final step enables HOOPS Exchange to complete its internal initialization:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__base__functions.html#ga1352d4c99ec87ae36a8690dfcfa9db69">A3DDllInitialize</a>(A3D_DLL_MAJORVERSION, A3D_DLL_MINORVERSION) != A3D_SUCCESS)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// handle initialization error</span></div>
<div class="line">}</div>
</div><!-- fragment --><h3>Termination</h3>
<p>When your application is done using the HOOPS Exchange libraries, you should clean up by calling:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__base__functions.html#gaec982aef05dd08134871b11095f8fd50">A3DDllTerminate</a>();</div>
<div class="line">A3DSDKUnloadLibrary();</div>
</div><!-- fragment --><p>This last step should not be performed if you've used automatic initialization with the HOOPS Exchange Loader.</p>
</div></div><!-- contents -->

    <div id="accordion" class="sidebar">
		<p class="accordion-toggle">Overview</p>
			<div class="accordion-content overview">
				<ul>
					<li><a href="technical_overview.html">Technical&nbsp;Overview</a></li>
					<li><a href="getting_started.html">Getting&nbsp;Started</a></li>
					<li><a href="distributing_your_application.html">Distributing Platforms</a></li>
					<li><a href="supported_platforms.html">Supported Platforms</a></li>
					<li><a href="overview.html">File Formats</a></li>
					<li><a href="release_notes.html">Release&nbsp;Notes</a></li>
					<li><a href="samples.html">Sample Code</a></li>
					<li><a href="acknowledgments.html">Acknowledgments</a></li>
					<li><a href="http://developer.techsoft3d.com/developer-support/" target="_blank">Contact Support</a></li>
				</ul>
			</div>
		<p class="accordion-toggle">Programming Guide</p>
			<div class="accordion-content default">
				<div class="indent">
					<p class="accordion-toggle">1 Introduction</p>
					<ul>
						<li><a href="introduction.html">1.0 Introduction</a></li>
						<li><a href="initialize_exchange.html">1.1 Initializing HOOPS Exchange</a></li>
						<li><a href="api_conventions.html">1.2 API Conventions</a></li>
					</ul>
					<p class="accordion-toggle">2 Basic Operations</p>
					<ul>
						<li><a href="load_model.html">2.1 Simple Model Load and Export</a></li>
						<li><a href="prc.html">2.2 PRC Basics</a></li>
						<li><a href="building_prc.html">2.3 Building PRC</a></li>
					</ul>
					<p class="accordion-toggle">3 Entities</p>
					<ul>
						<li><a href="product_occurrence.html">3.0 Product Occurrences</a></li>
						<li><a href="product_occurrence.html#partDefinitions">3.1 Part Definitions</a></li>
						<li><a href="product_occurrence.html#prototypes">3.2 Prototypes</a></li>
						<li><a href="product_occurrence.html#externals">3.3 Externals</a></li>
						<li><a href="product_occurrence.html#displayParameters">3.4 Display Parameters</a></li>
						<li><a href="product_occurrence.html#filtersLayers">3.5 Filters and Layers</a></li>
						<li><a href="product_occurrence.html#configurations">3.6 Configurations</a></li>
						<li><a href="persistent_ids.html">3.7 Persistent IDs</a></li>
					</ul>
                    <p class="accordion-toggle">4 Geometry</p>
					<ul>
						<li><a href="reading_geometry.html">4.0 Reading Model Geometry</a></li>
						<li><a href="getting_tessellation.html">4.1 Getting Tessellation</a></li>
						<li><a href="getting_brep.html">4.2 Getting B-rep Data</a></li>
						<li><a href="tessellation_example.html">4.3 Tessellation Example</a></li>
						<li><a href="approx_as_analytic.html">4.4 Display Parameters</a></li>
					</ul>
                    <p class="accordion-toggle">5 Entity Attributes</p>
					<ul>
						<li><a href="colors_materials.html">5.1 Colors and Materials</a></li>
						<li><a href="managing_attribute_inheritance.html">5.2 Managing Attribute Inheritance</a></li>
						<li><a href="transformations.html">5.3 Transformations</a></li>
					</ul>
                    <p><a href="markup.html">6 Markup and Views</a></p>
                    <p class="accordion-toggle">7 Advanced Functions</p>
					<ul>
						<li><a href="advanced.html#computingLengths">7.1 Computing Lengths</a></li>
						<li><a href="advanced.html#physicalProperties">7.2 Getting Physical Properties</a></li>
						<li><a href="advanced.html#modelCompare">7.3 Model Compare</a></li>
						<li><a href="advanced.html#modelSewing">7.4 Model Sewing</a></li>
						<li><a href="advanced.html#computingSections">7.5 Computing Sections</a></li>
						<li><a href="advanced.html#comparingPointClouds">7.6 Model to Point Cloud Comparison</a></li>
						<li><a href="advanced.html#shattered">7.7 Shattered Loading</a></li>
					</ul>
                    <p><a href="hoops_exchange_for_parasolid_developers.html">8 HOOPS Exchange for Parasolid Developers</a></p>
				</div>
			</div>
		<p class="accordion-toggle">API Reference</p>
			<div class="accordion-content api_ref">
				<ul>
					<li><a href="classes.html">Data Structures</a></li>
					<li><a href="f_index.html">Functions</a></li>
					<li><a href="modules.html">Modules</a></li>
					<li><a href="files.html">Files</a></li>
					<li><a href="functions.html">Fields</a></li>
					<li><a href="globals.html">Globals</a></li>
				</ul>
			</div>
    </div>
<div class="footer">
	HOOPS Exchange 2016 SP1 U4&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.techsoft3d.com">www.techsoft3d.com</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://developer.techsoft3d.com">developer.techsoft3d.com</a>
</div>
</body>
</html>