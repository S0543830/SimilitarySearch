<!doctype html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../common/doxygen.css">
	<link rel="stylesheet" href="../common/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="dynsections.js"></script>
	<script src="../common/sidebar.js"></script>
    <title>HOOPS Exchange Documentation</title>
    <link rel="shortcut icon" href="../common/favicon.ico">
</head>
<body>
<div class="header-background">
	<div class="header-margins">
        <div style="float: left;"><img src="../product/images/logo.png"></div>
        <div style="margin-left: 520px; margin-right: 20px;">
            <div class="search" id="Search"> 
                <form method="get" action="http://developer.techsoft3d.com/cgi/swish-hoops-exchange.cgi" enctype="application/x-www-form-urlencoded" class="form">
                    <label style='color: gray;'>Search: </label>
                    <input maxlength="200" value="" size="20" name="query" type="text">
                </form>
            </div>
        </div>
    </div>
</div>
<div class="cdiv">
<div class="content-body">
<div class="content-internalframe"><!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="contents">
<div class="textblock"><p> 
</div></div>
</p>
<h2>6.0 Markup and Views</h2>
<p>In HOOPS Exchange, <em>markup</em> refers to PMI and all the supporting infrastructure related to displaying it with the model. HOOPS Exchange groups this data into the <a href="modules.html">markup module</a>. Most markup is represented as tessellation, although text can be represented as either tessellation or semantic data.</p>
<center> <div class="image">
<img src="images/example_pmi.png" />
</div>
 <div class="caption">A model containing PMI</div> </center><p>Despite being an important part of the PRC standard, markup is not represented by an entity type. Instead, one of three <em>annotation</em> entities are used. Annotation entities are represented by <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__types.html#ga86f21b668f8768965b436fa324f2d9e5">A3DMkpAnnotationEntity</a> structures, and the structure can be one of three types:</p>
<ul class="square">
<li>
<b>Annotation item</b> encapsulates a single markup object. The type is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa545d53b8eced182b47a92e27cf1c9eb1">kA3DTypeMkpAnnotationItem</a>. </li>
<li>
<b>Annotation set</b> is a group of annotation entities. The type is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70faec90beedbcfe1462a6b4da28343e4481">kA3DTypeMkpAnnotationSet</a>. </li>
<li>
<b>Annotation reference</b> is a reference to another annotation. The type is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fad082c5f78067bd5670577250f9f1e8dc">kA3DTypeMkpAnnotationReference</a>. </li>
</ul>
<p>Annotation entities may be present on product occurrences or part definitions.</p>
<h3>Parsing annotation entities</h3>
<p>Each type of annotation entity should be parsed in a slightly different manner in order to extract all information contained within. The following examples demonstrate how to do this. First, you'll want to get the annotation type:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__types.html#ga86f21b668f8768965b436fa324f2d9e5">A3DMkpAnnotationEntity</a>* ae = <span class="comment">// get annotation entity</span></div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#ga4e3c6bc1e67a6f663cd1ee85ef7dc70f">A3DEEntityType</a> entityType;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__type__functions.html#ga9ff2b9f4eb31961b4d68a1b17f270bdd">A3DEntityGetType</a>(ae, &amp;entityType);</div>
</div><!-- fragment --><p>Next, test the type. If it is an annotation set, this means the entity contains other annotations. Your parsing function should process each one. Here are a few examples of parsing annotation entities based on their types. Annotation sets are quite simple:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (entityType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70faec90beedbcfe1462a6b4da28343e4481">kA3DTypeMkpAnnotationSet</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_set_data.html">A3DMkpAnnotationSetData</a> annotationSet;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_set_data.html">A3DMkpAnnotationSetData</a>, annotationSet);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__annotationset.html#ga6b93b0a62a9699857934cd587f7bb8b3">A3DMkpAnnotationSetGet</a>(ae, &amp;annotationSet);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; annotationSet.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_set_data.html#aab043b274e00b53fbef6097280d65976">m_uiAnnotationsSize</a>; i++)</div>
<div class="line">    {</div>
<div class="line">        parseAnnotation(annotationSet.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_set_data.html#ac28d6cdfdbd8da754bd163d05ae9631e">m_ppAnnotations</a>[i];</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>If the entity is of type <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa545d53b8eced182b47a92e27cf1c9eb1">kA3DTypeMkpAnnotationItem</a>, parsing is more complicated as there are possible subtypes. There will also be a markup node hanging off the annotation item in the field <span class="code">m_pMarkup</span>.</p>
<div class="fragment"><div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (entityType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa545d53b8eced182b47a92e27cf1c9eb1">kA3DTypeMkpAnnotationItem</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_item_data.html">A3DMkpAnnotationItemData</a> aid;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_item_data.html">A3DMkpAnnotationItemData</a>, aid);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__annotationitem.html#ga53f1dddb77d935e08c24730c146b8315">A3DMkpAnnotationItemGet</a>(ae, &amp;aid);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// get the markup node</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__types.html#ga2e1dc3228776a04664444e81ed78c2d4">A3DMkpMarkup</a>* markupNode = aid.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_item_data.html#af73b841b435182531a90e4d0f59574a3">m_pMarkup</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// at this point, you can call A3DEntityGetType to test the markup node type</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#ga4e3c6bc1e67a6f663cd1ee85ef7dc70f">A3DEEntityType</a> markupNodeType;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__type__functions.html#ga9ff2b9f4eb31961b4d68a1b17f270bdd">A3DEntityGetType</a>(markupNode, &amp;markupNodeType);</div>
</div><!-- fragment --><p>If <span class="code">markupNodeType</span> comes back as the general type <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__types.html#ga2e1dc3228776a04664444e81ed78c2d4">A3DMkpMarkup</a>, then the node contains only tessellation. If it comes back as one of the more specific classes, such as <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupdefinitiontype__module.html#ga4c15d74c4d639e53598f36a3019f717e">A3DMarkupText</a> or <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupdefinitiontype__module.html#gaf5cc0cb8663b5afa4be036f2d0d8bc3b">A3DMarkupDimension</a>, then you have tessellation plus semantic data.</p>
<p><b>NOTE:</b> Tessellation is always available, so you are guaranteed to at least get a <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__types.html#ga2e1dc3228776a04664444e81ed78c2d4">A3DMkpMarkup</a> structure. For an illustration of the related type hierarchy, see the diagram in the detailed description of <a href="group__a3d__markupdefinition__module.html#details" target="_blank">this page</a>.</p>
<p>Since tessellation is always available, you can start by getting it before anything else.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_markup_data.html">A3DMkpMarkupData</a> markupNodeData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_markup_data.html">A3DMkpMarkupData</a>, markupNodeData);</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__module.html#gae4f43a702978c50403b61c4758036bc3">A3DMkpMarkupGet</a>(markupNode, &amp;markupNodeData);</div>
<div class="line"></div>
<div class="line"><span class="comment">// since tessellation is always available, you can get it from the markupNodeData</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_tess_markup_data.html">A3DTessMarkupData</a> tessMarkupData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_tess_markup_data.html">A3DTessMarkupData</a>, tessMarkupData);</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__tessmarkup.html#ga5376a0b9bcd6f479b07dcede6efe0b37">A3DTessMarkupGet</a>(markupNodeData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_markup_data.html#a8532c044ef4ec1ff9de57440a7e49cdc">m_pTessellation</a>, &amp;tessMarkupData);</div>
</div><!-- fragment --><h3>6.1 Linked items</h3>
<p>In the preceding code snippet, the <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_markup_data.html">A3DMkpMarkupData</a> object may also contain definitions for leader lines and linked items. <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__types.html#ga5fbd8ef141499f46927768b1b31c6c74">A3DMkpLeader</a> has a tessellation field (which may be NULL), plus an array of <em>linked items</em>. A linked item represents a link between a markup object and an entity such as a solid, a topological entity, a construction entity, a coordinate system, or even another markup.</p>
<p>For example, if you have a dimension line which indicates the distance between two planes, the dimension is a markup object. It will have two <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a> references, and each reference will define a link to a plane.</p>
<p>The next step is to decide how you will parse the markup node. This depends on its entity type. Each markup type is quite different and warrants its own parsing method.</p>
<div class="fragment"><div class="line">    <span class="comment">// get entity type</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__type__functions.html#ga9ff2b9f4eb31961b4d68a1b17f270bdd">A3DEntityGetType</a>(markupNode, &amp;entityType);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (entityType)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa02f608699b643483a25ddf2ff9ae39de">kA3DTypeMkpMarkup</a>:</div>
<div class="line">            <span class="comment">// the markup is of a general type - only tessellation</span></div>
<div class="line">        <span class="keywordflow">case</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa9048f4e21b5601de729800cbd5bf59ae">kA3DTypeMarkupText</a>:</div>
<div class="line">            <span class="comment">// we have a text markup - tessellation plus semantic data</span></div>
<div class="line">        <span class="keywordflow">case</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__enums.html#gga4b4747e9a54bc4cf7d9144767be36a19a7ef4ed65852e20193c11842aa0b320c5">kA3DMarkupTypeDimension</a>:</div>
<div class="line">            <span class="comment">// a dimension markup - tessellation plus semantic data</span></div>
<div class="line">            </div>
<div class="line">        <span class="comment">// test for other types</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h4>Show and delete behaviors</h4>
<p>In <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a>, note the boolean fields such as <span class="code">m_bMarkupDeleteControl</span> and <span class="code">m_bLeaderShowControl</span>, which enable you to control what happens when a referenced entity is deleted, hidden, or shown. For example, if the <span class="code">m_bMarkupDeleteControl</span> flag is enabled, then the markup will be deleted when the entity is deleted. Similarly, if the <span class="code">m_bLeaderShowControl</span> is enabled, then the markup is shown when the associated entity is shown.</p>
<h3>6.2 Markup views</h3>
<p>PMI items are often organized under PMI views. A PMI view includes a camera and defines a particular model state - often including visibility for particular parts, certain PMI items, highlighted parts, or even has some parts arranged in an exploded view. All of these things are managed by linked items.</p>
<p>The purpose of a PMI view is to arrange the model to convey a certain idea. The HOOPS Exchange type for a PMI view is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html">A3DMkpViewData</a>. This object can be part of a product occurrence or a part definition.</p>
<p>To get data associated with a view:</p>
<div class="fragment"><div class="line"><span class="comment">// get parent object - in this case we&#39;ll use a product occurrence</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_product_occurrence_data.html">A3DAsmProductOccurrenceData</a> pod;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_product_occurrence_data.html">A3DAsmProductOccurrenceData</a>, pod);</div>
<div class="line">CHECK_RET(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__productoccurrence.html#gaf9cbcb0a4ae2eae3af3a8c2594269528">A3DAsmProductOccurrenceGet</a>(productOccurrence, &amp;pod));</div>
<div class="line">        </div>
<div class="line"><span class="comment">// there may be multiple views - check each one</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; pod.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_product_occurrence_data.html#a64d095aae750294dbf75e84f7bbf558e">m_uiViewsSize</a>; j++)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// get view data object</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html">A3DMkpViewData</a> mvd;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html">A3DMkpViewData</a>, mvd);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__annots__view.html#gaa40574590cfd32fc5de39030f363a6d4">A3DMkpViewGet</a>(pod.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_product_occurrence_data.html#a46cb88e5cc57721ce8eee734087a6d4f">m_ppViews</a>[j], &amp;mvd);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// get view name</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_root_base_data.html">A3DRootBaseData</a> rbdView;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_root_base_data.html">A3DRootBaseData</a>, rbdView);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__base.html#ga196d61ff070a6f0479008f1f7cc27f3d">A3DRootBaseGet</a>(pod.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_product_occurrence_data.html#a46cb88e5cc57721ce8eee734087a6d4f">m_ppViews</a>[j], &amp;rbdView);</div>
<div class="line">    rbdView.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_root_base_data.html#a2ccf028a7d25c28679df55ed407026ff">m_pcName</a>; <span class="comment">// field has the view name as a string</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// get camera</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html">A3DGraphSceneDisplayParametersData</a>* displayParameters = mvd.m_psSceneDisplayParameters;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__graphics__types.html#gaaa16f5430b3303d8748a573658e03ca5">A3DGraphCamera</a> camera = displayParameters.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html#a551bf28f57c5107b204f98be2163a72b">m_pCamera</a>; <span class="comment">// field has the camera</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// get display filters to show or hide your geometry</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#ga0ebb8c0bdb38cbdbd7b85cd8a6accda1">A3DAsmFilter</a>** filters = mvd.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html#a3483f20cb850b21297689d893c80be89">m_ppDisplayFilters</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>PMI is often arranged on a single plane. The view object defines this plane in the <span class="code">A3DMkpMarkupViewData::m_pPlane</span> field.</p>
<p>Linked items defined in the view will affect the state of the model. For example, visibility for particular parts, PMI items, highlighted parts, or the location of bodies can all be affected by a linked item. <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html#a4c3d33ea68d77aa11e549db0fec03c50">A3DMkpViewData.m_ppAnnotations</a></span> defines the markup items associated to the view, while <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html#ac01426d3faa7c0c1856222fe6ffbcd92">A3DMkpViewData::m_ppLinkedItems</a>-&gt;m_pReference</span> points to the linked entity.</p>
<p>In some cases, markups associated to a product occurrence can be displayed in a view associated to another product occurrence. Markups or geometry not associated to any view can also be displayed or hidden in the view. For example, in the diagram below, ProductOccurrence1 has a markup (Markup1) associated with its view. However, ProductOccurrence2 and View2 have a linked item which refers to Markup1. This means Markup1 will be displayed in View2.</p>
<center> <div class="image">
<img src="images/linked_items.png" />
</div>
 </center><p>Visibility is affected when using a linked item in this way. The item contained in <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#af50a0d7304dde740023eaf1e9ecce2fc">A3DMiscMarkupLinkedItemData::m_pReference</a> will see its default visibility changed in the view. If the visibility is on by default, the entity's visibility will be turned off in View2. Conversely, the visibility will be turned on if it was off by default.</p>
<p>Markups and bodies are not the only items you can have in a linked item, you can also manage the position of the items in a view. You can redefine the position of the parts of an assembly using a linked item, for example, to create an exploded view. You will define a new coordinate system for the position of the entity you want to adjust, and set this entity in <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#af50a0d7304dde740023eaf1e9ecce2fc">A3DMiscMarkupLinkedItemData::m_pReference</a></span>. Don't forget to specified on which PO the item belongs (or set to <span class="code">NULL</span> if the item is at the same level).</p>
<p>Here, we are creating an exploded view, one of the two PO of the model will be "exploded":</p>
<div class="fragment"><div class="line"><span class="comment">// creating the linked item</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a>* pMarkupLinkedItem = NULL;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html">A3DMiscMarkupLinkedItemData</a> sLinkedItemData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html">A3DMiscMarkupLinkedItemData</a>, sLinkedItemData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setting the target ProductOccurrence to NULL if the reference is at the same level as the PO,</span></div>
<div class="line"><span class="comment">//    or to the level above if the PO tree has several levels</span></div>
<div class="line">sLinkedItemData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#a1b90497c016713088e9e34d319e84c12">m_pTargetProductOccurrence</a> = NULL;</div>
<div class="line"><span class="comment">// setting a non-null reference to create the LI</span></div>
<div class="line">sLinkedItemData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#af50a0d7304dde740023eaf1e9ecce2fc">m_pReference</a> = sData.m_ppPOccurrences[0];</div>
<div class="line"> </div>
<div class="line">CHECK_RET(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markuplinkeditem.html#gaf6a7fb01586001454893823a5c94d7bb">A3DMiscMarkupLinkedItemCreate</a>(&amp;sLinkedItemData, &amp;pMarkupLinkedItem));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// creating the entity reference containing the new coordinate system</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html">A3DMiscEntityReferenceData</a> sEntityReferenceData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html">A3DMiscEntityReferenceData</a>, sEntityReferenceData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// applying the new coordinate system on the first ProductOccurrence</span></div>
<div class="line">sEntityReferenceData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html#aefff21b349e196dd1c4acae8e21c947f">m_pEntity</a> = sData.m_ppPOccurrences[0];</div>
<div class="line">sEntityReferenceData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html#a87d94e098962a212f26e1c77ca99bcab">m_pCoordinateSystem</a> = psRiCoordinateSystem;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setting the linked item with the new entity reference</span></div>
<div class="line">CHECK_RET(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__entity__reference.html#gaa06303f3672cf444e1555251eef4073a">A3DMiscEntityReferenceSet</a>(pMarkupLinkedItem, &amp;sEntityReferenceData));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// adding the linked item to the view and creating of the view</span></div>
<div class="line">mkpViewData.m_uiLinkedItemsSize = 1;</div>
<div class="line">mkpViewData.m_ppLinkedItems = (<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a>**)</div>
<div class="line">    malloc(<span class="keywordtype">size_t</span>(mkpViewData.m_uiLinkedItemsSize) * <span class="keyword">sizeof</span>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a>*));</div>
<div class="line">mkpViewData.m_ppLinkedItems[0] = pMarkupLinkedItem;</div>
</div><!-- fragment --><p>To summarize, when determining how a view should be arranged, you must consider three things:</p>
<ul>
<li>
the markups associated with view </li>
<li>
the linked items associated with the view (some markups not associated to the view can see their behavior (visibility) changing in this view </li>
<li>
the view's <a href="product_occurrence.html#filtersLayers">filters</a>, can be applied on items in the view </li>
</ul>
<p>Not all CAD model files have markups, linked items, or filters in their views. Some file formats do not support these entities, so your application must decide how to handle each situation based on the type of file you are parsing. </p>
</div></div><!-- contents -->

    <div id="accordion" class="sidebar">
		<p class="accordion-toggle">Overview</p>
			<div class="accordion-content overview">
				<ul>
					<li><a href="technical_overview.html">Technical&nbsp;Overview</a></li>
					<li><a href="getting_started.html">Getting&nbsp;Started</a></li>
					<li><a href="distributing_your_application.html">Distributing Platforms</a></li>
					<li><a href="supported_platforms.html">Supported Platforms</a></li>
					<li><a href="overview.html">File Formats</a></li>
					<li><a href="release_notes.html">Release&nbsp;Notes</a></li>
					<li><a href="samples.html">Sample Code</a></li>
					<li><a href="acknowledgments.html">Acknowledgments</a></li>
					<li><a href="http://developer.techsoft3d.com/developer-support/" target="_blank">Contact Support</a></li>
				</ul>
			</div>
		<p class="accordion-toggle">Programming Guide</p>
			<div class="accordion-content default">
				<div class="indent">
					<p class="accordion-toggle">1 Introduction</p>
					<ul>
						<li><a href="introduction.html">1.0 Introduction</a></li>
						<li><a href="initialize_exchange.html">1.1 Initializing HOOPS Exchange</a></li>
						<li><a href="api_conventions.html">1.2 API Conventions</a></li>
					</ul>
					<p class="accordion-toggle">2 Basic Operations</p>
					<ul>
						<li><a href="load_model.html">2.1 Simple Model Load and Export</a></li>
						<li><a href="prc.html">2.2 PRC Basics</a></li>
						<li><a href="building_prc.html">2.3 Building PRC</a></li>
					</ul>
					<p class="accordion-toggle">3 Entities</p>
					<ul>
						<li><a href="product_occurrence.html">3.0 Product Occurrences</a></li>
						<li><a href="product_occurrence.html#partDefinitions">3.1 Part Definitions</a></li>
						<li><a href="product_occurrence.html#prototypes">3.2 Prototypes</a></li>
						<li><a href="product_occurrence.html#externals">3.3 Externals</a></li>
						<li><a href="product_occurrence.html#displayParameters">3.4 Display Parameters</a></li>
						<li><a href="product_occurrence.html#filtersLayers">3.5 Filters and Layers</a></li>
						<li><a href="product_occurrence.html#configurations">3.6 Configurations</a></li>
						<li><a href="persistent_ids.html">3.7 Persistent IDs</a></li>
					</ul>
                    <p class="accordion-toggle">4 Geometry</p>
					<ul>
						<li><a href="reading_geometry.html">4.0 Reading Model Geometry</a></li>
						<li><a href="getting_tessellation.html">4.1 Getting Tessellation</a></li>
						<li><a href="getting_brep.html">4.2 Getting B-rep Data</a></li>
						<li><a href="tessellation_example.html">4.3 Tessellation Example</a></li>
						<li><a href="approx_as_analytic.html">4.4 Display Parameters</a></li>
					</ul>
                    <p class="accordion-toggle">5 Entity Attributes</p>
					<ul>
						<li><a href="colors_materials.html">5.1 Colors and Materials</a></li>
						<li><a href="managing_attribute_inheritance.html">5.2 Managing Attribute Inheritance</a></li>
						<li><a href="transformations.html">5.3 Transformations</a></li>
					</ul>
                    <p><a href="markup.html">6 Markup and Views</a></p>
                    <p class="accordion-toggle">7 Advanced Functions</p>
					<ul>
						<li><a href="advanced.html#computingLengths">7.1 Computing Lengths</a></li>
						<li><a href="advanced.html#physicalProperties">7.2 Getting Physical Properties</a></li>
						<li><a href="advanced.html#modelCompare">7.3 Model Compare</a></li>
						<li><a href="advanced.html#modelSewing">7.4 Model Sewing</a></li>
						<li><a href="advanced.html#computingSections">7.5 Computing Sections</a></li>
						<li><a href="advanced.html#comparingPointClouds">7.6 Model to Point Cloud Comparison</a></li>
						<li><a href="advanced.html#shattered">7.7 Shattered Loading</a></li>
					</ul>
                    <p><a href="hoops_exchange_for_parasolid_developers.html">8 HOOPS Exchange for Parasolid Developers</a></p>
				</div>
			</div>
		<p class="accordion-toggle">API Reference</p>
			<div class="accordion-content api_ref">
				<ul>
					<li><a href="classes.html">Data Structures</a></li>
					<li><a href="f_index.html">Functions</a></li>
					<li><a href="modules.html">Modules</a></li>
					<li><a href="files.html">Files</a></li>
					<li><a href="functions.html">Fields</a></li>
					<li><a href="globals.html">Globals</a></li>
				</ul>
			</div>
    </div>
<div class="footer">
	HOOPS Exchange 2016 SP1 U4&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.techsoft3d.com">www.techsoft3d.com</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://developer.techsoft3d.com">developer.techsoft3d.com</a>
</div>
</body>
</html>