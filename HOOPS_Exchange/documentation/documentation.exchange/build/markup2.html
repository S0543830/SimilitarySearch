<!doctype html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../common/doxygen.css">
	<link rel="stylesheet" href="../common/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="dynsections.js"></script>
	<script src="../common/sidebar.js"></script>
    <title>HOOPS Exchange Documentation</title>
    <link rel="shortcut icon" href="../common/favicon.ico">
</head>
<body>
<div class="header-background">
	<div class="header-margins">
        <div style="float: left;"><img src="../product/images/logo.png"></div>
        <div style="margin-left: 520px; margin-right: 20px;">
            <div class="search" id="Search"> 
                <form method="get" action="http://developer.techsoft3d.com/cgi/swish-hoops-exchange.cgi" enctype="application/x-www-form-urlencoded" class="form">
                    <label style='color: gray;'>Search: </label>
                    <input maxlength="200" value="" size="20" name="query" type="text">
                </form>
            </div>
        </div>
    </div>
</div>
<div class="cdiv">
<div class="content-body">
<div class="content-internalframe"><!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="contents">
<div class="textblock"><p> 
</div></div>
</p>
<h2>6.0 Views and PMI</h2>
<p>In HOOPS Exchange, markup refers to PMI and all the supporting infrastructure related to displaying it with the model. HOOPS Exchange groups this data into the markup module. Most markup is represented as tessellation, although certain instances can be represented as either tessellation or semantic data.</p>
<center> <div class="image">
<img src="images/example_pmi.png" />
</div>
 <div class="caption">A model containing PMI</div> </center><p>Despite being an important part of the PRC standard, markup is not represented by an entity type. Instead, one of three <em>annotation</em> entities are used. Annotation entities are represented by <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__types.html#ga86f21b668f8768965b436fa324f2d9e5">A3DMkpAnnotationEntity</a> structures, and the structure can be one of three types:</p>
<ul>
<li>
<b>Annotation item</b> encapsulates a single markup object. The type is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa545d53b8eced182b47a92e27cf1c9eb1">kA3DTypeMkpAnnotationItem</a>. </li>
<li>
<b>Annotation set</b> is a group of annotation entities. The type is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70faec90beedbcfe1462a6b4da28343e4481">kA3DTypeMkpAnnotationSet</a>. </li>
<li>
<b>Annotation reference</b> is a reference to another annotation. The type is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fad082c5f78067bd5670577250f9f1e8dc">kA3DTypeMkpAnnotationReference</a>. </li>
</ul>
<p>Annotation entities may be present on product occurrences or part definitions.</p>
<h3>6.1 Parsing annotation entities</h3>
<p>The <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_annotation_item_data.html">A3DMkpAnnotationItemData</a></span> structure references an <span class="code">A3DMkpMarkup</span>. This markup contains tessellation, leaders, and linked item information that is available by using the function <span class="code">A3DMkpMarkupGet</span>. In addition, this markup can also contain definition (type information) data and specific (type, leader, linked items, etc.) data. Those data are stored in a common structure, <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_markup_definition_data.html">A3DMarkupDefinitionData</a></span>, and in a specific structure corresponding to the type returned by the function <span class="code">A3DEntityGetType</span>. For the structures corresponding to markup with a definition, only access functions are defined. In other words, the customer can only create <span class="code">A3DMkpMarkup</span>.</p>
<h4>6.1.1 Parsing tessellation of markup</h4>
<p>Not all files contain semantic PMI, but PMI in tessellated form is always available, so you are guaranteed to at least get a <span class="code">A3DMkpMarkup</span> structure. For an illustration of the related type hierarchy, see the diagram in the detailed description of <a href="../api_ref/group__a3d__markupdefinition__module.html#details">this page</a>.</p>
<p>This is an example of getting the PMI tessellation:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_markup_data.html">A3DMkpMarkupData</a> markupNodeData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_markup_data.html">A3DMkpMarkupData</a>, markupNodeData);</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markup__module.html#gae4f43a702978c50403b61c4758036bc3">A3DMkpMarkupGet</a>(markupNode, &amp;markupNodeData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// since tessellation is always available, you can get it from the markupNodeData</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_tess_markup_data.html">A3DTessMarkupData</a> tessMarkupData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_tess_markup_data.html">A3DTessMarkupData</a>, tessMarkupData);</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__tessmarkup.html#ga5376a0b9bcd6f479b07dcede6efe0b37">A3DTessMarkupGet</a>(markupNodeData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_markup_data.html#a8532c044ef4ec1ff9de57440a7e49cdc">m_pTessellation</a>, &amp;tessMarkupData);</div>
</div><!-- fragment --><h4>6.1.2 Parsing markup types</h4>
<p>Different types of markup are possible, such as dimensions, GDT, datum, or text. All markup will have different information depending on its type, and each type must be parsed accordly. Get the type of the markup, and then get the corresponding information (if the markup is a dimension, use <span class="code">A3DMarkupDimensionGet</span> to retrieve the information about the dimension:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_error_codes_8h.html#a17437603063ca9478a3303e98b5b72c5">A3DStatus</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__type__functions.html#ga9ff2b9f4eb31961b4d68a1b17f270bdd">A3DEntityGetType</a>(pMarkup, &amp;eType);</div>
<div class="line"> </div>
<div class="line">iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupdefinition__module.html#gab0e1dd0e0b9b1b8c8afa9fad6463bc0e">A3DMarkupDefinitionGet</a>((<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupdefinitiontype__module.html#ga0a3ab1f058a76f2a849e676bd80a47e6">A3DMarkupDefinition</a>*)pMarkup, &amp;sMarkupData);</div>
<div class="line"><span class="keywordflow">if</span>(iRet != A3D_SUCCESS)</div>
<div class="line">{</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupdefinition__module.html#gab0e1dd0e0b9b1b8c8afa9fad6463bc0e">A3DMarkupDefinitionGet</a>(NULL, &amp;sMarkupData);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_error_codes_8h.html#a17437603063ca9478a3303e98b5b72c5aeb70db4811397918d88678e25c3d4cfd">A3D_ERROR</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa9048f4e21b5601de729800cbd5bf59ae">kA3DTypeMarkupText</a>)</div>
<div class="line">{</div>
<div class="line">    iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markuptext.html#gab893f0383a8d32752874547d19ffb014">A3DMarkupTextGet</a>(pMarkup, &amp;sMarkupData);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span>(eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa70fd9907783b872b44ccdf5c94d03595">kA3DTypeMarkupRichText</a>)</div>
<div class="line">{</div>
<div class="line">    iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markuprichtext.html#ga679e6009d41b8caedaeaa587f7a8da23">A3DMarkupRichTextGet</a>(pMarkup, &amp;sMarkupData);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span>(eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa954e68b78936376f2b111f3b6fdefb7e">kA3DTypeMarkupDatum</a>)</div>
<div class="line">{</div>
<div class="line">    iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupdatum.html#gab7cdfb05c9636cb6da49446fd062d812">A3DMarkupDatumGet</a>(pMarkup, &amp;sMarkupData);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span>(eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70faecd30b8f8128d7391e85947a2825d079">kA3DTypeMarkupGDT</a>)</div>
<div class="line">{</div>
<div class="line">    iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupgdt.html#ga50b4ba344f74113b56ee118521654502">A3DMarkupGDTGet</a>(pMarkup, &amp;sMarkupData);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span>(eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa5822f87c3107bf9b5d89b211635740ad">kA3DTypeMarkupDimension</a>)</div>
<div class="line">{</div>
<div class="line">    iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markupdimension.html#ga6332837c567902789c356a18345f07e7">A3DMarkupDimensionGet</a>(pMarkup, &amp;sMarkupData);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_error_codes_8h.html#a17437603063ca9478a3303e98b5b72c5aaeb5e469e5a5199f4d28610e13199f2d">A3D_NOT_IMPLEMENTED</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h4>Semantic PMI</h4>
<p>If the markup is a GDT and has been created in a semantic way in the native CAD software, you can retrieve the semantic information for the Feature Control Frame, using the function <span class="code">A3DMDSemanticFeatureControlFrameGet</span>. If there is no semantic information associated to the GDT, you can still retrieve non-semantic information as texts(in <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_m_d_f_c_f_drafting_row_data.html">A3DMDFCFDraftingRowData</a></span>) using the function <span class="code">A3DMDFeatureControlFrameGet</span>. Note that <span class="code">A3DMarkupDimension</span> represents semantic markup.</p>
<h4>6.1.3 Parsing leader lines</h4>
<p>If the markup has leader lines, you can retrieve the tessellation of the leaders and, in some case, linked items associated to the leaders. Parse it like you parse linked items (see below: 6.1.4 Linked item associated to markup) or tessellation (see 6.1.1 Parsing tessellation of markup).</p>
<h4>6.1.4 Linked item associated to markup</h4>
<p>A linked item represents a link between a markup object and an entity such as a solid, a topological entity, a construction entity, a coordinate system, or even another markup. For example, if you have a dimension line which indicates the distance between two planes, the dimension is a markup object. It will have two <span class="code">A3DMiscMarkupLinkedItem</span> references, and each reference will define a link to a plane.</p>
<h4>Show and delete behaviors</h4>
<p>In <span class="code">A3DMiscMarkupLinkedItem</span>, note the boolean fields such as <span class="code">m_bMarkupDeleteControl</span> and <span class="code">m_bLeaderShowControl</span>, which enable you to control what happens when a referenced entity is deleted, hidden, or shown. For example, if the <span class="code">m_bMarkupDeleteControl</span> flag is enabled, then the markup will be deleted when the entity is deleted. Similarly, if the <span class="code">m_bLeaderShowControl</span> is enabled, then the markup is shown when the associated entity is shown.</p>
<h3>6.2 Parsing views</h3>
<p>PMI items are often organized under PMI views. A PMI view includes a camera and defines a particular model state - often including visibility for particular parts, certain PMI items, highlighted parts, or even has some parts arranged in an exploded view. All of these things are managed by linked items.</p>
<p>The purpose of a PMI view is to arrange the model to convey a certain idea. The HOOPS Exchange type for a PMI view is <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html">A3DMkpViewData</a></span>. This object can be part of a product occurrence or a part definition.</p>
<h4>6.2.1 Parsing annotations</h4>
<p>The annotations associated to the views will be displayed in the view.</p>
<h4>6.2.2 Parsing the display scene parameters</h4>
<p>In the structure <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html">A3DGraphSceneDisplayParametersData</a></span>, you will find information about the graph scene. Here is a code snippet to retrieve graph scene data:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html">A3DMkpViewData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html">A3DMkpViewData</a>, sData);</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__graphics__types.html#ga0083b51fe31102a208cfea1560788d48">A3DGraphSceneDisplayParameters</a> * pGraphSceneParam = sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_mkp_view_data.html#abb899ab155161f0d7dc58295eb765771">m_pSceneDisplayParameters</a></div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html">A3DGraphSceneDisplayParametersData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html">A3DGraphSceneDisplayParametersData</a>, sData);</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__scenedisplayparameters.html#ga9d62327fae1b3f0764752a403155cbca">A3DGraphSceneDisplayParametersGet</a>(pGraphSceneParam, &amp;sData);</div>
</div><!-- fragment --><h4>Camera, lights, styles</h4>
<p>With the <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_camera_data.html">A3DGraphCameraData</a></span>, you will be able to retrieve information about the position of your camera in the view. The graph scene parameters also contains information about style, background color, etc.</p>
<h4>Cutting planes</h4>
<p>In the <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html">A3DGraphSceneDisplayParametersData</a></span>, you can find the information related to the clipping planes in the field <span class="code">m_ppClippingPlanes</span>. Here is a snippet code to retrieve the cutting planes of a view:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html">A3DGraphSceneDisplayParametersData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html">A3DGraphSceneDisplayParametersData</a>, sData);</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__scenedisplayparameters.html#ga9d62327fae1b3f0764752a403155cbca">A3DGraphSceneDisplayParametersGet</a>(pGraphSceneParam, &amp;sData);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> ui=0; ui &lt; sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html#ac5be67f54d06d219794dd2c5f7aee4eb">m_uiPlaneSize</a>; ui++)</div>
<div class="line">    traverseSrfPlane(sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_graph_scene_display_parameters_data.html#a3d3f97b5ccda2ab599cd4bee52789d3c">m_ppClippingPlanes</a>[ui);</div>
</div><!-- fragment --><h4>6.2.3 Parsing linked item associated to the view</h4>
<p>Linked items will define the view as a particular model state â€“ for example, visibility for particular parts, display of certain PMI items, highlighted parts, or even with some parts arranged in an exploded view.</p>
<h4>Visibility of items and PMI using linked items</h4>
<p>For files in an assembly context, it is possible that some markup associated with a product occurrence can be displayed in a view associated with another product occurrence. Markup or geometry not associated with a particular view can also be displayed or hidden in that view. The item referenced by <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#af50a0d7304dde740023eaf1e9ecce2fc">A3DMiscMarkupLinkedItemData::m_pReference</a></span> will have its visibility changed by default in the view. If the item was displayed by default, it will be hidden (and if hidden, will be displayed).</p>
<p><span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#a1b90497c016713088e9e34d319e84c12">A3DMiscMarkupLinkedItemData::m_pTargetProductOccurrence</a></span> will specify the product occurrence to which this item belongs, or it can be NULL if the item is at the same level.</p>
<p>Markup and bodies are not the only items you can reference with a linked item - you can also manage the position of the items in a view. To do this, you would define a new coordinate system for the entity you want to be modified, and set this entity in <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#af50a0d7304dde740023eaf1e9ecce2fc">A3DMiscMarkupLinkedItemData::m_pReference</a></span>. Don't forget to specify the product occurrence to which the item belongs (or set to NULL if the item is at the same level).</p>
<p>Here we are creating an exploded view, one of the two PO of the model will be "exploded":</p>
<div class="fragment"><div class="line"><span class="comment">// creating the linked item</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a>* pMarkupLinkedItem = NULL;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html">A3DMiscMarkupLinkedItemData</a> sLinkedItemData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html">A3DMiscMarkupLinkedItemData</a>, sLinkedItemData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setting the target ProductOccurrence to NULL if the reference is at the same level as the PO,</span></div>
<div class="line"><span class="comment">//    or to the level above if the PO tree has several levels</span></div>
<div class="line">sLinkedItemData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#a1b90497c016713088e9e34d319e84c12">m_pTargetProductOccurrence</a> = NULL;</div>
<div class="line"><span class="comment">// setting a non-null reference to create the LI</span></div>
<div class="line">sLinkedItemData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_markup_linked_item_data.html#af50a0d7304dde740023eaf1e9ecce2fc">m_pReference</a> = sData.m_ppPOccurrences[0];</div>
<div class="line"> </div>
<div class="line">CHECK_RET(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__markuplinkeditem.html#gaf6a7fb01586001454893823a5c94d7bb">A3DMiscMarkupLinkedItemCreate</a>(&amp;sLinkedItemData, &amp;pMarkupLinkedItem));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// creating the entity reference containing the new coordinate system</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html">A3DMiscEntityReferenceData</a> sEntityReferenceData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html">A3DMiscEntityReferenceData</a>, sEntityReferenceData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// applying the new coordinate system on the first ProductOccurrence</span></div>
<div class="line">sEntityReferenceData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html#aefff21b349e196dd1c4acae8e21c947f">m_pEntity</a> = sData.m_ppPOccurrences[0];</div>
<div class="line">sEntityReferenceData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_misc_entity_reference_data.html#a87d94e098962a212f26e1c77ca99bcab">m_pCoordinateSystem</a> = psRiCoordinateSystem;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setting the linked item with the new entity reference</span></div>
<div class="line">CHECK_RET(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__entity__reference.html#gaa06303f3672cf444e1555251eef4073a">A3DMiscEntityReferenceSet</a>(pMarkupLinkedItem, &amp;sEntityReferenceData));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// adding the linked item to the view and creating of the view</span></div>
<div class="line">mkpViewData.m_uiLinkedItemsSize = 1;</div>
<div class="line">mkpViewData.m_ppLinkedItems = (<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a>**)</div>
<div class="line">    malloc(<span class="keywordtype">size_t</span>(mkpViewData.m_uiLinkedItemsSize) * <span class="keyword">sizeof</span>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__misc__data__types.html#ga9de002da7d48efdfb6f114e0c02a95e9">A3DMiscMarkupLinkedItem</a>*));</div>
<div class="line">mkpViewData.m_ppLinkedItems[0] = pMarkupLinkedItem;</div>
</div><!-- fragment --><p>To summarize, when determining how a view should be arranged, you must consider three things:</p>
<ul>
<li>
the markup associated with view </li>
<li>
the linked items associated with the view (some markup not associated to the view can see their visibility changed in this view </li>
<li>
the view's <a href="product_occurrence.html#filtersLayers">filters</a>, which can be applied on items in the view </li>
</ul>
<p>Not all CAD model files have markup, linked items, or filters in their views. Some file formats do not support these entities, so your application must decide how to handle each situation based on the type of file you are parsing.</p>
<h4>6.2.4 Parsing filters</h4>
<p>A filter (<span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_layer_filter_item_data.html">A3DAsmLayerFilterItemData</a></span>)can be associated with a view. To this filter will be associated one or more layer indexes. Moreover, there is a flag that defines whether the layers are inclusive or exclusive:</p>
<ul>
<li>
If inclusive (<span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_layer_filter_item_data.html#a8b5f83d91e1f661c3ec1903f405765ae">A3DAsmLayerFilterItemData::m_bIsInclusive</a> = true</span>), all the items are unfiltered, except the ones associated to the layer </li>
<li>
If exclusive (<span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_layer_filter_item_data.html#a8b5f83d91e1f661c3ec1903f405765ae">A3DAsmLayerFilterItemData::m_bIsInclusive</a> = false</span>), all the items are filtered except the ones associated to the layer </li>
</ul>
<p>Each object is associated to a layer in the <span class="code">GraphicsData</span>. In the view, we retrieve the layer indices and determine if they are inclusive or exclusive. All the objects associated to these layer indices will be filtered (if the layer is inclusive) or unfiltered (and all the objects not associated to the view will be filtered) if the layer is exclusive.</p>
<p>Note that filters are not found in all CAD files, and some file formats don't support them at all.</p>
</div></div><!-- contents -->

    <div id="accordion" class="sidebar">
		<p class="accordion-toggle">Overview</p>
			<div class="accordion-content overview">
				<ul>
					<li><a href="technical_overview.html">Technical&nbsp;Overview</a></li>
					<li><a href="getting_started.html">Getting&nbsp;Started</a></li>
					<li><a href="distributing_your_application.html">Distributing Platforms</a></li>
					<li><a href="supported_platforms.html">Supported Platforms</a></li>
					<li><a href="overview.html">File Formats</a></li>
					<li><a href="release_notes.html">Release&nbsp;Notes</a></li>
					<li><a href="samples.html">Sample Code</a></li>
					<li><a href="acknowledgments.html">Acknowledgments</a></li>
					<li><a href="http://developer.techsoft3d.com/developer-support/" target="_blank">Contact Support</a></li>
				</ul>
			</div>
		<p class="accordion-toggle">Programming Guide</p>
			<div class="accordion-content default">
				<div class="indent">
					<p class="accordion-toggle">1 Introduction</p>
					<ul>
						<li><a href="introduction.html">1.0 Introduction</a></li>
						<li><a href="initialize_exchange.html">1.1 Initializing HOOPS Exchange</a></li>
						<li><a href="api_conventions.html">1.2 API Conventions</a></li>
					</ul>
					<p class="accordion-toggle">2 Basic Operations</p>
					<ul>
						<li><a href="load_model.html">2.1 Simple Model Load and Export</a></li>
						<li><a href="prc.html">2.2 PRC Basics</a></li>
						<li><a href="building_prc.html">2.3 Building PRC</a></li>
					</ul>
					<p class="accordion-toggle">3 Entities</p>
					<ul>
						<li><a href="product_occurrence.html">3.0 Product Occurrences</a></li>
						<li><a href="product_occurrence.html#partDefinitions">3.1 Part Definitions</a></li>
						<li><a href="product_occurrence.html#prototypes">3.2 Prototypes</a></li>
						<li><a href="product_occurrence.html#externals">3.3 Externals</a></li>
						<li><a href="product_occurrence.html#displayParameters">3.4 Display Parameters</a></li>
						<li><a href="product_occurrence.html#filtersLayers">3.5 Filters and Layers</a></li>
						<li><a href="product_occurrence.html#configurations">3.6 Configurations</a></li>
						<li><a href="persistent_ids.html">3.7 Persistent IDs</a></li>
					</ul>
                    <p class="accordion-toggle">4 Geometry</p>
					<ul>
						<li><a href="reading_geometry.html">4.0 Reading Model Geometry</a></li>
						<li><a href="getting_tessellation.html">4.1 Getting Tessellation</a></li>
						<li><a href="getting_brep.html">4.2 Getting B-rep Data</a></li>
						<li><a href="tessellation_example.html">4.3 Tessellation Example</a></li>
						<li><a href="approx_as_analytic.html">4.4 Display Parameters</a></li>
					</ul>
                    <p class="accordion-toggle">5 Entity Attributes</p>
					<ul>
						<li><a href="colors_materials.html">5.1 Colors and Materials</a></li>
						<li><a href="managing_attribute_inheritance.html">5.2 Managing Attribute Inheritance</a></li>
						<li><a href="transformations.html">5.3 Transformations</a></li>
					</ul>
                    <p><a href="markup.html">6 Markup and Views</a></p>
                    <p class="accordion-toggle">7 Advanced Functions</p>
					<ul>
						<li><a href="advanced.html#computingLengths">7.1 Computing Lengths</a></li>
						<li><a href="advanced.html#physicalProperties">7.2 Getting Physical Properties</a></li>
						<li><a href="advanced.html#modelCompare">7.3 Model Compare</a></li>
						<li><a href="advanced.html#modelSewing">7.4 Model Sewing</a></li>
						<li><a href="advanced.html#computingSections">7.5 Computing Sections</a></li>
						<li><a href="advanced.html#comparingPointClouds">7.6 Model to Point Cloud Comparison</a></li>
						<li><a href="advanced.html#shattered">7.7 Shattered Loading</a></li>
					</ul>
                    <p><a href="hoops_exchange_for_parasolid_developers.html">8 HOOPS Exchange for Parasolid Developers</a></p>
				</div>
			</div>
		<p class="accordion-toggle">API Reference</p>
			<div class="accordion-content api_ref">
				<ul>
					<li><a href="classes.html">Data Structures</a></li>
					<li><a href="f_index.html">Functions</a></li>
					<li><a href="modules.html">Modules</a></li>
					<li><a href="files.html">Files</a></li>
					<li><a href="functions.html">Fields</a></li>
					<li><a href="globals.html">Globals</a></li>
				</ul>
			</div>
    </div>
<div class="footer">
	HOOPS Exchange 2016 SP1 U4&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.techsoft3d.com">www.techsoft3d.com</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://developer.techsoft3d.com">developer.techsoft3d.com</a>
</div>
</body>
</html>