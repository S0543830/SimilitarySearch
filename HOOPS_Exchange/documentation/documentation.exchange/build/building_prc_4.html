<!doctype html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../common/doxygen.css">
	<link rel="stylesheet" href="../common/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="dynsections.js"></script>
	<script src="../common/sidebar.js"></script>
    <title>HOOPS Exchange Documentation</title>
    <link rel="shortcut icon" href="../common/favicon.ico">
</head>
<body>
<div class="header-background">
	<div class="header-margins">
        <div style="float: left;"><img src="../product/images/logo.png"></div>
        <div style="margin-left: 520px; margin-right: 20px;">
            <div class="search" id="Search"> 
                <form method="get" action="http://developer.techsoft3d.com/cgi/swish-hoops-exchange.cgi" enctype="application/x-www-form-urlencoded" class="form">
                    <label style='color: gray;'>Search: </label>
                    <input maxlength="200" value="" size="20" name="query" type="text">
                </form>
            </div>
        </div>
    </div>
</div>
<div class="cdiv">
<div class="content-body">
<div class="content-internalframe"><!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="contents">
<div class="textblock"><p> 
</div></div>
</p>
<h2>2.3.4 Creating topology PRC entities</h2>
<p>The Exchange API Reference groups the PRC entities that specify topology into the topology module. The topology module uses a hierarchy of faces to define the shapes of 3D objects.</p>
<h3><a class="anchor" id="1544090"></a>Create a topology B-rep data entity</h3>
<ol>
<li>
<p class="startli">Create a null pointer to a topology B-rep data entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#gac37100025937857105f5f8c696417839">A3DTopoBrepData</a>* pTopoBrepData = NULL;</div>
</div><!-- fragment --> <pre class="fragment">Tip: Do not confuse the &lt;span class='code'&gt;A3DTopoBrepData&lt;/span&gt; entity with the &lt;span class='code'&gt;A3DTopoBrepDataData&lt;/span&gt; structure. The former references a PRC entity (an opaque type), while the latter reveals the data in that entity.
&lt;/li&gt;

&lt;li&gt;For each topology connex data in the B-rep data entity, create a pointer that references a populated topology connex entity. (See &lt;a href="building_prc_4.html#1544343"&gt;Create a topology connex entity&lt;/a&gt;.) In the following example, &lt;span class='code'&gt;createTopoConnex&lt;/span&gt; is a private function that returns a reference to a populated topology connex entity.
</pre><div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#gaf305d3b78450c0cda2434580fc7133af">A3DTopoConnex</a>* p = createTopoConnex();</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
<p class="startli">If the B-rep representation item references multiple topology connex entities, allocate memory for an array of references to the topology connexes in the B-rep data entity.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Declare and initialize a <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html">A3DTopoBrepDataData</a></span> structure. Set the <span class="code">m_ppConnexes</span> member to reference the array of topology connex entities, and set the <span class="code">m_uiConnexSize</span> member to the number of entries in the array.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html">A3DTopoBrepDataData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line"> </div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html#ab12e056db2e9e26591a366ca70f41fea">m_ppConnexes</a> = &amp;p;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html#a10b08efc50d81c1e528424f3598eb1bb">m_uiConnexSize</a> = 1;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html">A3DTopoBrepDataData</a></span> structure as a PRC entity by invoking the <span class="code">A3DAsmPartDefinitionCreate</span> function. The first argument is a pointer to the B-rep-data data structure (<span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html">A3DTopoBrepDataData</a></span>), and the second is the pointer to the B-rep data entity created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__brepdata.html#ga6602701c56b6182ccea7cf0ee66b17ba">A3DTopoBrepDataCreate</a>(&amp;sData, &amp;pTopoBrepData);</div>
</div><!-- fragment -->  </li>
</ol>
<h3><a class="anchor" id="1544343"></a>Create a topology connex entity</h3>
<ol>
<li>
<p class="startli">Declare a pointer to a topology connex entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#gaf305d3b78450c0cda2434580fc7133af">A3DTopoConnex</a>* pTopoConnex = NULL;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">For each topology shell in the topology connex entity, create a pointer that references a populated topology shell entity. (See <a href="building_prc_4.html#1545696">Create a topology shell entity</a>.) In the following example, <span class="code">createTopoShell</span> is a private function that returns a reference to a populated topology shell entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga18dafc8997e27f517bdc35baf4402832">A3DTopoShell</a>* p = createTopoShell();</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
<p class="startli">If the topology connex entity references multiple topology shell entities, allocate memory for an array to accommodate each topology shell entity pointer.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">For each topology shell in the topology connex entity, create a pointer that references a populated topology shell entity. (See <a href="building_prc_4.html#1545696">Create a topology shell entity</a>.) In the following example, <span class="code">createTopoShell</span> is a private function that returns a reference to a populated topology shell entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga18dafc8997e27f517bdc35baf4402832">A3DTopoShell</a>* p = createTopoShell();</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Declare and initialize an <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html">A3DTopoConnexData</a></span> structure. Set the <span class="code">m_ppShells</span> member to reference the array that contains the pointers, and set the <span class="code">m_uiShellSize</span> member to the number of pointers.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html">A3DTopoConnexData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line"> </div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html#af8f00ac1cf93a3b0000b4f36279fc0bf">m_ppShells</a> = &amp;p;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html#af34cbc8820da1b7259d027357bd894c7">m_uiShellSize</a> = 1;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the topology connex data as a PRC entity by invoking the <span class="code">A3DTopoConnexCreate</span> function. The first argument is a pointer to the B-rep-data data structure (<span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html">A3DTopoBrepDataData</a></span>), and the second is the pointer to the topology connex entity created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__connex.html#ga22cc418f147aa592b9ef2a2849aac521">A3DTopoConnexCreate</a>(&amp;sData, &amp;pTopoConnex);</div>
</div><!-- fragment -->  </li>
</ol>
<h3><a class="anchor" id="1545696"></a>Create a topology shell entity</h3>
<ol>
<li>
<p class="startli">Declare a null pointer to a topology shell entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga18dafc8997e27f517bdc35baf4402832">A3DTopoShell</a>* pTopoShell = NULL;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
<p class="startli">If the topology shell references multiple topology face entities, create an array to accommodate each pointer.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">For each topology face in the topology shell, create a pointer that references a populated topology face entity. (See <a href="building_prc_4.html#1545935">Create a topology face entity</a>.) In the following example, <span class="code">createTopoFace</span> is a private function that returns a reference to a populated topology shell entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga8eb7fb5617bfeb8bff9bc57b576fa5c9">A3DTopoFace</a>* p = createTopoFace();</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Declare and initialize an <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html">A3DTopoShellData</a></span> structure. Set the <span class="code">m_ppFaces</span> member to reference the array of topology face entities, and set the <span class="code">m_uiFaceSize</span> member to the number of topology shell face entities.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html">A3DTopoShellData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line"> </div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html#a4878eaec5684b56b19fc44f82031bdd4">m_ppFaces</a> = &amp;p;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html#ac02219289b6e732252b9b4f753ddd903">m_uiFaceSize</a> = 1;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Set the <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html">A3DTopoShellData</a></span> structure's <span class="code">m_pucOrientationWithShell</span> member to reference an A3DUns8 integer that specifies the orientation of the surface normal with respect to the shell normal. If the shell is closed and otherwise arbitrary, the shell normal points outside the material. The following example specifies that the surface normal has the same orientation as the face and shell.<br />
<br />
 NOTE: Despite the simplicity of the values it expresses, the <span class="code">m_pucOrientationWithShell</span> is a pointer to an <span class="code">A3DUns8</span> integer; it is not itself an <span class="code">A3DUns8</span> integer.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#ga8db2248cdeaeb77adb18df0d02c72fc1">A3DUns8</a> orient = 1;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html#a42f6de6a08c0374b6699c9ba57d75ba3">m_pucOrientationWithShell</a> = &amp;orient;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the topology shell data as a PRC entity by invoking the <span class="code">A3DTopoShellCreate</span> function. The first argument is a pointer to the topology shell data, and the second is the pointer to the topology shell entity created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__shell.html#gafd88c750fad54a90c489043bf89610d8">A3DTopoShellCreate</a>(&amp;sData, &amp;pTopoShell);</div>
</div><!-- fragment -->  </li>
</ol>
<h3><a class="anchor" id="1545935"></a>Create a topology face entity</h3>
<p>The example described here UV-maps onto a cylinder surface a topology loop representing a circular band.</p>
<ol>
<li>
<p class="startli">Declare a null pointer to a topology face entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga8eb7fb5617bfeb8bff9bc57b576fa5c9">A3DTopoFace</a>* pTopoFace = NULL;</div>
</div><!-- fragment --> <p>&lt;li style=margin-bottom: 10px;"&gt;If the topology face references multiple loop entities, declare an array to accommodate each pointer.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">For each loop in the topology face, create a pointer that references a populated loop entity. (See <a href="building_prc_4.html#1546473">Create a topology loop entity</a>.) In the following example, <span class="code">createTopoLoop</span> is a private function that returns a reference to a populated loop entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gaa9a344a5f9faad08ff7df498f1ffb98c">A3DDouble</a> outerradius = 0.5;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gaa9a344a5f9faad08ff7df498f1ffb98c">A3DDouble</a> innerradius = 0.4;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga9e52c53d6a69b69e0183d3e905d66c44">A3DTopoLoop</a>* loops[2];</div>
<div class="line">loops[0] = createTopoLoop(outerradius);</div>
<div class="line">loops[1] = createTopoLoop(innerradius);</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Declare and initialize an <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html">A3DTopoFaceData</a></span> structure. Set the <span class="code">m_ppLoops</span> member to reference the array of loop entity pointers, and set the <span class="code">m_uiLoopSize</span> member to the number of loop entities in the array. Set the <span class="code">m_uiOuterLoopIndex</span> member to the array index of the topology loop that describes the outer loop. If unknown, set that member to <span class="code">A3D_LOOP_UNKNOW_OUTER_INDEX</span>.<br />
<br />
</p>
<p>In the following example, <span class="code">m_uiOuterLoopIndex</span> indicates that the outer loop is the first entry in the loops array.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html">A3DTopoFaceData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html#a2c1fa7fa29febc0ebf1d1e4eea2109af">m_ppLoops</a> = loops;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html#abb365da6688ce9c5e211f9082553478f">m_uiLoopSize</a> = 2;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html#a24a34ea29c273db5cb8bdf7cccd63097">m_uiOuterLoopIndex</a> = 0;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Declare a pointer that references a populated surface base entity. (See <a href="building_prc_5.html#1546955">Create a surface cylinder entity</a>.) Set the <span class="code">m_pSurface</span> member of the <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html">A3DTopoFaceData</a></span> structure to reference the populated surface. In the following example, <span class="code">createSurface </span> is a private function that returns a reference to a populated cylinder surface entity. The returned value is cast as a pointer to a surface base.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__surfaces__type.html#ga25710ccee34e8fc147ea6d9ae3977bb0">A3DSurfBase</a> * p = createSurface(); </div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html#af237ea140932093a3e146a52fce95a35">m_pSurface</a> = p;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the topology face data as a PRC entity by invoking the <span class="code">A3DTopoFaceCreate</span> function. The first argument is a pointer to the topology face data, and the second is the pointer to the topology face entity created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__face.html#ga712b996770be6e00693f41107791e48e">A3DTopoFaceCreate</a>(&amp;sData, &amp;pTopoFace);</div>
</div><!-- fragment -->  </li>
</ol>
<h3><a class="anchor" id="1546473"></a>Create a topology loop entity</h3>
<p>A loop is a connected series of co-edges and describes the boundary of a face. Generally, loops are closed, having no start or end point.</p>
<ol>
<li>
<p class="startli">Declare a null pointer to a topology loop entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga9e52c53d6a69b69e0183d3e905d66c44">A3DTopoLoop</a>* pTopoLoop = NULL;</div>
</div><!-- fragment --> <p>&lt;li style=margin-bottom: 10px;"&gt;If the topology loop references multiple co-edge entities, declare an array to accommodate each pointer.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">For each co-edge in the loop, do the following: </p><ul class="square">
<li style="margin-bottom: 10px; margin-top: 10px;">
<p class="startli">Create a pointer that references a populated circle entity with a given radius. (See <a href="building_prc_5.html#1562042">Create a circular curve entity</a>.)</p>
<p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
Create a pointer that references a populated co-edge entity with a given curve. (See <a href="building_prc_4.html#1643800">Create a topology co-edge entity</a>.) </li>
</ul>
<p>In the following example, <span class="code">createCircle</span> is a private function that takes a radius and returns a reference to a populated circular curve entity, and <span class="code">createTopoCoEdge</span> is a private function that takes a pointer to a circle entity and returns a reference to a populated co-edge entity. The circle-entity describes a curve.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__curves__type.html#ga076df93dea59d541e671865cf9fca2bb">A3DCrvBase</a>* p = createCircle(radius);</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga6db589e7af4476af8f441811fa722f7e">A3DTopoCoEdge</a>* q = createTopoCoEdge(p);</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Declare and initialize an <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_loop_data.html">A3DTopoLoopData</a></span> structure. Set the <span class="code">m_ppCoEdges</span> member to reference the array of co-edge entity pointers, and set the <span class="code">m_uiCoEdgeSize</span> member to the number of entities in the array.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_loop_data.html">A3DTopoLoopData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_loop_data.html#a258084d53c7511b75ad4f456994f7dab">m_ppCoEdges</a> = &amp;q;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_loop_data.html#a7405d35c7071ab3672ded32042d12e1f">m_uiCoEdgeSize</a> = 1;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Set the <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_loop_data.html">A3DTopoLoopData</a></span> structure's <span class="code">m_ucOrientationWithSurface</span> member to specify the orientation of the loop relative to the surface normal vector. The following example specifies that the orientation is perpendicular to the surface normal vector (or parallel with the surface).</p>
<div class="fragment"><div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_loop_data.html#a3007be5ad9d07faee178b3f355bee178">m_ucOrientationWithSurface</a> = 1;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the topology face data as a PRC entity by invoking the <span class="code">A3DTopoLoopCreate</span> function. The first argument is a pointer to the topology loop data, and the second is the pointer to the topology loop entity created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet=<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__loop.html#ga6254d37c4f673e3a2d9a91a63028a5ff">A3DTopoLoopCreate</a>(&amp;sData, &amp;pTopoLoop);</div>
</div><!-- fragment -->  </li>
</ol>
<h3><a class="anchor" id="1643800"></a>Create a topology co-edge entity</h3>
<p>A coedge is a directed edge. The two co-edges related to an edge point in the same or opposite directions along the edge. Each co-edge is associated with a loop of one of the two neighboring/adjacent faces.</p>
<ol>
<li style="margin-bottom: 10px;">
<p class="startli">Create a pointer to a populated <span class="code">A3DTopoEdge</span> entity. (See <a href="building_prc_4.html#1582129">Create a topology edge entity</a>.)</p>
<p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
<p class="startli">Declare and initialize a topology co-edge data entity.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Set the m_pUVCurve member of the data entity to reference the circle entity created earlier (see <a href="building_prc_4.html#1546473">Create a topology loop entity</a>). Set the <span class="code">m_pEdge</span> member to the edge entity created in Step 1.<br />
<br />
</p>
<p>NOTE: To set the value of the m_pUVCurve member using meaningful data, you need your own modeler.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_co_edge_data.html">A3DTopoCoEdgeData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_co_edge_data.html#ac9cfaa4d13031ea50a14914f99492226">m_pUVCurve</a> = p;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_co_edge_data.html#afc6f50f19bada99574c3a06e20b517c2">m_pEdge</a> = q;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Set the <span class="code">m_ucOrientationWithLoop</span> member to indicate the relative orientation of the loop.</p>
<div class="fragment"><div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_co_edge_data.html#a6f7d2655c7411bf05ac6660fe68e165d">m_ucOrientationWithLoop</a> = 1;   <span class="comment">/* Same orientation as the adjacent co-edge */</span></div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_co_edge_data.html#a7e62278556d598d9946c091874db20aa">m_ucOrientationUVWithLoop</a> = 1;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the co-edge data as a PRC entity by invoking the <span class="code">A3DTopoEdgeCreate</span> function. The first argument is a pointer to the topology loop data, and the second is the pointer to the topology edge entity created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__coedge.html#gac5b50a63b242253c8d92ecd69a1984e4">A3DTopoCoEdgeCreate</a>(&amp;sData, &amp;pp);</div>
</div><!-- fragment -->  </li>
</ol>
<h3><a class="anchor" id="1582129"></a>Create a topology edge entity</h3>
<ol>
<li>
<p class="startli">Declare a null pointer to a topology edge entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga49dcba08a0f4d5003fa3df67659007a3">A3DTopoEdge</a>* pTopoEdge = NULL;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Declare and initialize a topology edge data structure.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_edge_data.html">A3DTopoEdgeData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
<p class="startli">Populate the members with data.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Package the topology face data as a PRC entity by invoking the <span class="code">A3DTopoEdgeCreate</span> function. The first argument is a pointer to the topology loop data, and the second is the pointer to the topology edge entity created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__edge.html#ga270fa678518416d941e9c824a0c53f22">A3DTopoEdgeCreate</a>(&amp;sData, &amp;pTopoEdge);</div>
</div><!-- fragment -->  </li>
</ol>
</div></div><!-- contents -->

    <div id="accordion" class="sidebar">
		<p class="accordion-toggle">Overview</p>
			<div class="accordion-content overview">
				<ul>
					<li><a href="technical_overview.html">Technical&nbsp;Overview</a></li>
					<li><a href="getting_started.html">Getting&nbsp;Started</a></li>
					<li><a href="distributing_your_application.html">Distributing Platforms</a></li>
					<li><a href="supported_platforms.html">Supported Platforms</a></li>
					<li><a href="overview.html">File Formats</a></li>
					<li><a href="release_notes.html">Release&nbsp;Notes</a></li>
					<li><a href="samples.html">Sample Code</a></li>
					<li><a href="acknowledgments.html">Acknowledgments</a></li>
					<li><a href="http://developer.techsoft3d.com/developer-support/" target="_blank">Contact Support</a></li>
				</ul>
			</div>
		<p class="accordion-toggle">Programming Guide</p>
			<div class="accordion-content default">
				<div class="indent">
					<p class="accordion-toggle">1 Introduction</p>
					<ul>
						<li><a href="introduction.html">1.0 Introduction</a></li>
						<li><a href="initialize_exchange.html">1.1 Initializing HOOPS Exchange</a></li>
						<li><a href="api_conventions.html">1.2 API Conventions</a></li>
					</ul>
					<p class="accordion-toggle">2 Basic Operations</p>
					<ul>
						<li><a href="load_model.html">2.1 Simple Model Load and Export</a></li>
						<li><a href="prc.html">2.2 PRC Basics</a></li>
						<li><a href="building_prc.html">2.3 Building PRC</a></li>
					</ul>
					<p class="accordion-toggle">3 Entities</p>
					<ul>
						<li><a href="product_occurrence.html">3.0 Product Occurrences</a></li>
						<li><a href="product_occurrence.html#partDefinitions">3.1 Part Definitions</a></li>
						<li><a href="product_occurrence.html#prototypes">3.2 Prototypes</a></li>
						<li><a href="product_occurrence.html#externals">3.3 Externals</a></li>
						<li><a href="product_occurrence.html#displayParameters">3.4 Display Parameters</a></li>
						<li><a href="product_occurrence.html#filtersLayers">3.5 Filters and Layers</a></li>
						<li><a href="product_occurrence.html#configurations">3.6 Configurations</a></li>
						<li><a href="persistent_ids.html">3.7 Persistent IDs</a></li>
					</ul>
                    <p class="accordion-toggle">4 Geometry</p>
					<ul>
						<li><a href="reading_geometry.html">4.0 Reading Model Geometry</a></li>
						<li><a href="getting_tessellation.html">4.1 Getting Tessellation</a></li>
						<li><a href="getting_brep.html">4.2 Getting B-rep Data</a></li>
						<li><a href="tessellation_example.html">4.3 Tessellation Example</a></li>
						<li><a href="approx_as_analytic.html">4.4 Display Parameters</a></li>
					</ul>
                    <p class="accordion-toggle">5 Entity Attributes</p>
					<ul>
						<li><a href="colors_materials.html">5.1 Colors and Materials</a></li>
						<li><a href="managing_attribute_inheritance.html">5.2 Managing Attribute Inheritance</a></li>
						<li><a href="transformations.html">5.3 Transformations</a></li>
					</ul>
                    <p><a href="markup.html">6 Markup and Views</a></p>
                    <p class="accordion-toggle">7 Advanced Functions</p>
					<ul>
						<li><a href="advanced.html#computingLengths">7.1 Computing Lengths</a></li>
						<li><a href="advanced.html#physicalProperties">7.2 Getting Physical Properties</a></li>
						<li><a href="advanced.html#modelCompare">7.3 Model Compare</a></li>
						<li><a href="advanced.html#modelSewing">7.4 Model Sewing</a></li>
						<li><a href="advanced.html#computingSections">7.5 Computing Sections</a></li>
						<li><a href="advanced.html#comparingPointClouds">7.6 Model to Point Cloud Comparison</a></li>
						<li><a href="advanced.html#shattered">7.7 Shattered Loading</a></li>
					</ul>
                    <p><a href="hoops_exchange_for_parasolid_developers.html">8 HOOPS Exchange for Parasolid Developers</a></p>
				</div>
			</div>
		<p class="accordion-toggle">API Reference</p>
			<div class="accordion-content api_ref">
				<ul>
					<li><a href="classes.html">Data Structures</a></li>
					<li><a href="f_index.html">Functions</a></li>
					<li><a href="modules.html">Modules</a></li>
					<li><a href="files.html">Files</a></li>
					<li><a href="functions.html">Fields</a></li>
					<li><a href="globals.html">Globals</a></li>
				</ul>
			</div>
    </div>
<div class="footer">
	HOOPS Exchange 2016 SP1 U4&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.techsoft3d.com">www.techsoft3d.com</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://developer.techsoft3d.com">developer.techsoft3d.com</a>
</div>
</body>
</html>