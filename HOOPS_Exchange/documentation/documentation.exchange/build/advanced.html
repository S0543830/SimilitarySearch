<!doctype html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../common/doxygen.css">
	<link rel="stylesheet" href="../common/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="dynsections.js"></script>
	<script src="../common/sidebar.js"></script>
    <title>HOOPS Exchange Documentation</title>
    <link rel="shortcut icon" href="../common/favicon.ico">
</head>
<body>
<div class="header-background">
	<div class="header-margins">
        <div style="float: left;"><img src="../product/images/logo.png"></div>
        <div style="margin-left: 520px; margin-right: 20px;">
            <div class="search" id="Search"> 
                <form method="get" action="http://developer.techsoft3d.com/cgi/swish-hoops-exchange.cgi" enctype="application/x-www-form-urlencoded" class="form">
                    <label style='color: gray;'>Search: </label>
                    <input maxlength="200" value="" size="20" name="query" type="text">
                </form>
            </div>
        </div>
    </div>
</div>
<div class="cdiv">
<div class="content-body">
<div class="content-internalframe"><!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="contents">
<div class="textblock"><p> 
</div></div>
</p>
<h2>7.0 Advanced functions</h2>
<p><a class="anchor" id="computingLengths"></a></p><h3>7.1 Computing lengths</h3>
<p>In HOOPS Exchange, all lines, edges, and curves have an associated curve, whose base type is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__curves__type.html#ga076df93dea59d541e671865cf9fca2bb">A3DCrvBase</a>. This geometry always exists as part of a representation item. Recall that representation items may have many different types, thus, it is necessary to check the type before operating on it. In this case, we'll examine a tessellated entity of type <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa6d72da1dc21157b815c7c1fa1d824292">kA3DTypeRiCurve</a>. Computing the curve length requires drilling down a few levels in order to get the necessary parameters:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#ga4e3c6bc1e67a6f663cd1ee85ef7dc70f">A3DEEntityType</a> eType;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__type__functions.html#ga9ff2b9f4eb31961b4d68a1b17f270bdd">A3DEntityGetType</a>(repItem, &amp;eType);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa6d72da1dc21157b815c7c1fa1d824292">kA3DTypeRiCurve</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_curve_data.html">A3DRiCurveData</a> riCurveData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_curve_data.html">A3DRiCurveData</a>, riCurveData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__ricurve.html#ga9a831221b130be6b2f0a57fc64c90a03">A3DRiCurveGet</a>((<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gae24c886f7ca5bf0092f69dfb0a50010a">A3DRiCurve</a>*) repItem, &amp;riCurveData);</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga434028410f9c46b7d36dea4c2e83125b">A3DTopoSingleWireBody</a>* tswb = riCurveData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_curve_data.html#a827e32611e4c90764c94dc5c8524024d">m_pBody</a>;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_single_wire_body_data.html">A3DTopoSingleWireBodyData</a> tswbd;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_single_wire_body_data.html">A3DTopoSingleWireBodyData</a>, tswbd);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__singlewirebody.html#ga793764b8567c2244ebbaadd28df51e54">A3DTopoSingleWireBodyGet</a>(tswb, &amp;tswbd);</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#ga7d880a7ad6947da50724ae5e37a0c729">A3DTopoWireEdge</a>* twe = tswbd.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_single_wire_body_data.html#ad767a03fc3a822a9d500adc4d39e7ee8">m_pWireEdge</a>;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_wire_edge_data.html">A3DTopoWireEdgeData</a> twed;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_wire_edge_data.html">A3DTopoWireEdgeData</a>, twed);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__wireedge.html#ga631fd4fa8cdfe85b7d004170d5508c4a">A3DTopoWireEdgeGet</a>(twe, &amp;twed);</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__curves__type.html#ga076df93dea59d541e671865cf9fca2bb">A3DCrvBase</a>* crvBase = twed.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_wire_edge_data.html#a6d09a7d5f4f3297ef938bf16cb222272">m_p3dCurve</a>;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gaa9a344a5f9faad08ff7df498f1ffb98c">A3DDouble</a> curveLength;</div>
<div class="line">    status = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_avanced_tools_8h.html#aab8b78e53cb8dab5d914300438e1e30c">A3DCurveLength</a>(crvBase, <span class="keyword">nullptr</span>, &amp;curveLength);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// at this point &quot;curveLength&quot; will equal the length of the curve</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Getting curve length for B-rep data is similar to the above example, but due to the complex nature of B-rep, you have to drill down much further into the assembly tree to get the <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__curves__type.html#ga076df93dea59d541e671865cf9fca2bb">A3DCrvBase</a> :</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa7f5f449e434fb6e5d1936c5d3e35326e">kA3DTypeRiBrepModel</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_brep_model_data.html">A3DRiBrepModelData</a> riBrepModelData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_brep_model_data.html">A3DRiBrepModelData</a>, riBrepModelData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__ribrepmodel.html#ga159228b05c774094d94218a963334408">A3DRiBrepModelGet</a>((<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>*) repItem, &amp;riBrepModelData);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// continue drilling down</span></div>
<div class="line">    <span class="comment">// ...A3DTopoBrepData</span></div>
<div class="line">    <span class="comment">// ...A3DTopoConnexData</span></div>
<div class="line">    <span class="comment">// ...A3DTopoShellData</span></div>
<div class="line">    <span class="comment">// ...A3DTopoFaceData</span></div>
<div class="line">    <span class="comment">// ...A3DTopoLoopData</span></div>
<div class="line">    <span class="comment">// ...A3DTopoCoEdgeData</span></div>
<div class="line">    </div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_edge_data.html">A3DTopoEdgeData</a> topoEdgeData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_edge_data.html">A3DTopoEdgeData</a>, topoEdgeData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__edge.html#gace90fada4410a45f7722fd3fa0b9c2ea">A3DTopoEdgeGet</a>(topoEdge.m_pEdge, topoEdgeData);</div>
<div class="line">    </div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__curves__type.html#ga076df93dea59d541e671865cf9fca2bb">A3DCrvBase</a>* crvBase = topoEdgeData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_edge_data.html#ac2dab27bd8398621aa38a45b7cd55401">m_p3dCurve</a>;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gaa9a344a5f9faad08ff7df498f1ffb98c">A3DDouble</a> curveLength;</div>
<div class="line">    status = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_avanced_tools_8h.html#aab8b78e53cb8dab5d914300438e1e30c">A3DCurveLength</a>(crvBase, <span class="keyword">nullptr</span>, &amp;curveLength);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// at this point &quot;curveLength&quot; will equal the length of the curve</span></div>
<div class="line">}</div>
</div><!-- fragment --><p><a class="anchor" id="physicalProperties"></a></p><h3>7.2 Getting physical properties</h3>
<p>A model's physical properties include its volume, center of gravity, and surface area. The computation functions exist for the model file as a whole as well as individual B-rep models within an assembly. Here is an example of how it is computed at the model file level:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_physical_properties_data.html">A3DPhysicalPropertiesData</a> physicalPropertiesData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__physical__properties.html#gaa39bc1d9840a1c6e9d1da4214a47b006">A3DComputeModelFilePhysicalProperties</a>(sHoopsExchangeLoader.m_psModelFile, &amp;physicalPropertiesData);</div>
<div class="line"></div>
<div class="line"><span class="comment">// the fields in &#39;physicalPropertiesData&#39; contain the results</span></div>
</div><!-- fragment --><p>For computation of individual B-rep models, use the similar functions <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__physical__properties.html#gab46dba245e2a815df9876eb3bee5d0a8">A3DComputePhysicalProperties</a> and <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__physical__properties.html#ga5ddef8c412e2a8669e45c686a01f6030">A3DComputePolyBrepPhysicalProperties</a>.</p>
<p>For <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__physical__properties.html#gaa39bc1d9840a1c6e9d1da4214a47b006">A3DComputeModelFilePhysicalProperties</a>, the data is returned in the <a href="prc.html#units">model file's units</a>. <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__physical__properties.html#gab46dba245e2a815df9876eb3bee5d0a8">A3DComputePhysicalProperties</a> returns values in the <em>local</em> <a href="prc.html#brep-units">B-rep model's units</a>. Note these functions also accept a scale parameter (not used in the above example) which can be used to transform the local unit into something else. For instance, if the local unit is millimeters and the scale is 1000, the values will be returned in meters for the gravity center, square meters for the area, and cubic meters for the volume.</p>
<h4>Computing area for a single face</h4>
<p>To compute the area for a single face, you'll need a <span class="code">TopoFace</span> object and its context. This procedure is more complicated because the required objects are nested deep within the B-rep hierarchy. Starting with a B-rep model representation item [<span class="code">repItem</span> in the code snippet below], the first step is to get a reference to the <span class="code">TopoContext</span>.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#ga4e3c6bc1e67a6f663cd1ee85ef7dc70f">A3DEEntityType</a> eType;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__type__functions.html#ga9ff2b9f4eb31961b4d68a1b17f270bdd">A3DEntityGetType</a>(repItem, &amp;eType);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (eType == <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa7f5f449e434fb6e5d1936c5d3e35326e">kA3DTypeRiBrepModel</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>* brepModel = (<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>*) repItem;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_brep_model_data.html">A3DRiBrepModelData</a> brepModelData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_brep_model_data.html">A3DRiBrepModelData</a>, brepModelData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__ribrepmodel.html#ga159228b05c774094d94218a963334408">A3DRiBrepModelGet</a>(brepModel, &amp;brepModelData);</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topology__types.html#gac37100025937857105f5f8c696417839">A3DTopoBrepData</a>* topoBrepData = brepModelData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_brep_model_data.html#ae761548542354d25d126292321bf4332">m_pBrepData</a>;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html">A3DTopoBrepDataData</a> topoBrepDataData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html">A3DTopoBrepDataData</a>, topoBrepDataData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__brepdata.html#ga71f47d8c2a160cbbc89f839c4eff22bd">A3DTopoBrepDataGet</a>(topoBrepData, &amp;topoBrepDataData);</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_body_data.html">A3DTopoBodyData</a> topoBodyData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_body_data.html">A3DTopoBodyData</a>, topoBodyData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topobody.html#ga0d6894870839dcd00650c827ee94b8df">A3DTopoBodyGet</a>(topoBrepData, &amp;topoBodyData);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// save this reference to the topoContextData</span></div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_context_data.html">A3DTopoContextData</a> topoContextData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_context_data.html">A3DTopoContextData</a>, topoContextData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__topocontext.html#ga37c1d58b824fe433fdcd34bed6bb6776">A3DTopoContextGet</a>(topoBodyData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_body_data.html#a25a0522b5effdf91781fcf2e4b40d5c1">m_pContext</a>, &amp;topoContextData);</div>
</div><!-- fragment --><p>Now, you are able to drill down further to get the <span class="code">TopoFace</span> you're interested in. The following example loops through all faces and simply prints the area for each one:</p>
<div class="fragment"><div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html">A3DTopoConnexData</a> topoConnexData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html">A3DTopoConnexData</a>, topoConnexData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html">A3DTopoShellData</a> topoShellData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html">A3DTopoShellData</a>, topoShellData);</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html">A3DTopoFaceData</a> topoFaceData;</div>
<div class="line">    <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_face_data.html">A3DTopoFaceData</a>, topoFaceData);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; topoBrepDataData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html#a10b08efc50d81c1e528424f3598eb1bb">m_uiConnexSize</a>; i++)</div>
<div class="line">    {</div>
<div class="line">        <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__connex.html#ga6e9d89fa4c2880e72ac3d0f9588bd567">A3DTopoConnexGet</a>(topoBrepDataData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_brep_data_data.html#ab12e056db2e9e26591a366ca70f41fea">m_ppConnexes</a>[i], &amp;topoConnexData);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; topoConnexData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html#af34cbc8820da1b7259d027357bd894c7">m_uiShellSize</a>; j++)</div>
<div class="line">        {</div>
<div class="line">            <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__shell.html#gaaa6cec125cd289c4c4dbd9e4173ce3ab">A3DTopoShellGet</a>(topoConnexData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_connex_data.html#af8f00ac1cf93a3b0000b4f36279fc0bf">m_ppShells</a>[j], &amp;topoShellData);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; topoShellData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html#ac02219289b6e732252b9b4f753ddd903">m_uiFaceSize</a>; k++)</div>
<div class="line">            {</div>
<div class="line">                <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__face.html#ga1cd433a450a0f64e36e1618abb0b6bc7">A3DTopoFaceGet</a>(topoShellData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html#a4878eaec5684b56b19fc44f82031bdd4">m_ppFaces</a>[k], &amp;topoFaceData);</div>
<div class="line"></div>
<div class="line">                <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gaa9a344a5f9faad08ff7df498f1ffb98c">A3DDouble</a> faceArea;</div>
<div class="line">                <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__physical__properties.html#ga8b755f157b5c943e27e58ade5254bb98">A3DComputeFaceArea</a>(topoShellData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_shell_data.html#a4878eaec5684b56b19fc44f82031bdd4">m_ppFaces</a>[k], topoBodyData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_topo_body_data.html#a25a0522b5effdf91781fcf2e4b40d5c1">m_pContext</a>, &amp;faceArea);</div>
<div class="line">                </div>
<div class="line">                <span class="comment">// here is the data we&#39;re looking for</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;topo face &quot;</span> &lt;&lt; k &lt;&lt; <span class="stringliteral">&quot;, area: &quot;</span> &lt;&lt; faceArea &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">                <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__face.html#ga1cd433a450a0f64e36e1618abb0b6bc7">A3DTopoFaceGet</a>(<span class="keyword">nullptr</span>, &amp;topoFaceData);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__shell.html#gaaa6cec125cd289c4c4dbd9e4173ce3ab">A3DTopoShellGet</a>(<span class="keyword">nullptr</span>, &amp;topoShellData);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__connex.html#ga6e9d89fa4c2880e72ac3d0f9588bd567">A3DTopoConnexGet</a>(<span class="keyword">nullptr</span>, &amp;topoConnexData);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Note the de-initializations with <span class="code">nullptr</span> which free memory when each structure is no longer needed.</p>
<p><a class="anchor" id="modelCompare"></a></p><h3>7.3 Model compare</h3>
<p>HOOPS Exchange offers a convenient way for comparing two models to determine which faces are different. This is useful, for example, to understand what has changed in a model between two versions: perhaps a hole has been added or an edge has been blended. Comparisons can be made at the model level or at the B-rep level. Imagine you would like HOOPS Exchange to compare these models:</p>
<center> <div class="image">
<img src="images/sample_mdf.png" />
</div>
 </center><p>This example demonstrates how to perform the comparison:</p>
<div class="fragment"><div class="line">sHoopsExchangeLoader.Import(A3DImport(filename1));</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#gac7a33edf07bb7f390e7b05f1c71827ac">A3DAsmModelFile</a>* modelFile1 = sHoopsExchangeLoader.m_psModelFile;</div>
<div class="line"> </div>
<div class="line">sHoopsExchangeLoader.Import(A3DImport(filename2));</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#gac7a33edf07bb7f390e7b05f1c71827ac">A3DAsmModelFile</a>* modelFile2 = sHoopsExchangeLoader.m_psModelFile;</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_compare_output_data.html">A3DCompareOutputData</a> pOutput;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_compare_output_data.html">A3DCompareOutputData</a>, pOutput);</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___compare_faces.html#ga7f4a611bfd9b7b6f80466b05aeb6a074">A3DCompareFacesInBrepModels</a>(modelFile1, modelFile2, 1, &amp;pOutput);</div>
</div><!-- fragment --><p>The output structure contains information related to which faces are changed. For example, the <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_compare_output_data.html#a921a46c529001545b7c1a54759a178d5">A3DCompareOutputData::m_pOldFaceMatch</a></span> array corresponds to the array of faces, <span class="code"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_compare_output_data.html#a6c5c02f8c8bb93dd60535f99d1802aca">A3DCompareOutputData::m_pOldFace</a></span>, found in the model. <span class="code">m_pOldFaceMatch</span> contains a <span class="code">true</span> value for each face that remains the same. Perhaps most interesting is the <span class="code">m_pResultAsmModeFile</span> field, which can be exported to PRC. The PRC will contain all the faces color-coded according to their status in <span class="code">m_pOldFaceMatch</span>. The result is something like this:</p>
<center> <div class="image">
<img src="images/compared model.png" />
</div>
 </center><p><a class="anchor" id="modelSewing"></a></p><h3>7.4 Model sewing</h3>
<p>In some legacy file translators - especially those doing STEP or IGES translation - the relationship between adjacent faces in a solid body may be broken. HOOPS Exchange can repair this data through model sewing, which is a form of healing. Sewing reconnects adjacent faces in a solid. Sewing can be done at the model file level or at the B-rep level. An example of model sewing is demonstrated below:</p>
<div class="fragment"><div class="line">sHoopsExchangeLoader.Import(A3DImport(filename1));</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>* model1 = getBrepModel(sHoopsExchangeLoader.m_psModelFile);</div>
<div class="line"> </div>
<div class="line">sHoopsExchangeLoader.Import(A3DImport(filename2));</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>* model2 = getBrepModel(sHoopsExchangeLoader.m_psModelFile);</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>* inModels[] = { model1, model2 };</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>** pInModels = inModels;</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#gaf525e273ba2d26f73cd7a94ef0a75eb1">A3DRiBrepModel</a>** outModels;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gab2cb7cff76e38fac0d949f7cf3e7b6b7">A3DUns32</a> numOutModels;</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___healing.html#ga0dbda0adfed0440512b0374ba9f3023e">A3DSewBrep</a>(&amp;pInModels, 2, 1.0, &amp;outModels, &amp;numOutModels);</div>
<div class="line"></div>
<div class="line"><span class="comment">// at this point, outModels contains the sewn B-rep models</span></div>
</div><!-- fragment --><p><a class="anchor" id="computingSections"></a></p><h3>7.5 Computing sections</h3>
<p>HOOPS Exchange is capable of performing model sectioning. You provide a model and define a plane. Then, HOOPS Exchange will create an infinitely thin slice of the model which intersects the plane. The output is an exact geometric B-rep slice, not just a tessellated polyline. The slice is provided as a set of B-rep representation items.</p>
<div class="fragment"><div class="line"><span class="comment">// initialize the section plane</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_planar_section_data.html">A3DPlanarSectionData</a> sectionPlane;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_planar_section_data.html">A3DPlanarSectionData</a>, sectionPlane);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// plane origin point</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html">A3DVector3dData</a> origin;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html">A3DVector3dData</a>, origin);</div>
<div class="line">origin.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html#ab48d051ca234c37fb79f447d53e068fa">m_dX</a> = 0;</div>
<div class="line">origin.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html#ae77f6aed1ddcd333e10867093b6c9caa">m_dY</a> = 0;</div>
<div class="line">origin.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html#ab4b53b0f85c09032ec926b706f552246">m_dZ</a> = 0;</div>
<div class="line">sectionPlane.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_planar_section_data.html#a877b045c4ed1ba09c17d62c5e8c1f9e7">m_sOrigin</a> = origin;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// plane direction</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html">A3DVector3dData</a> direction;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html">A3DVector3dData</a>, direction);</div>
<div class="line">direction.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html#ab48d051ca234c37fb79f447d53e068fa">m_dX</a> = 0;</div>
<div class="line">direction.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html#ae77f6aed1ddcd333e10867093b6c9caa">m_dY</a> = 1;</div>
<div class="line">direction.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_vector3d_data.html#ab4b53b0f85c09032ec926b706f552246">m_dZ</a> = 0;</div>
<div class="line">sectionPlane.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_planar_section_data.html#a2df0a0ce0405e254872f226912e4d4aa">m_sDirection</a> = direction;</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gab2cb7cff76e38fac0d949f7cf3e7b6b7">A3DUns32</a> numSections;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#ga629a10f0d71a4535e9c60a13e023e371">A3DRiSet</a>** sectionElements;</div>
<div class="line"> </div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___compute_section.html#ga26528758ab015547c276f7cb67011cd3">A3DComputePlanarSectionOnModelFile</a>(sHoopsExchangeLoader.m_psModelFile,</div>
<div class="line">    &amp;sectionPlane,</div>
<div class="line">    &amp;numSections,</div>
<div class="line">    &amp;sectionElements);</div>
<div class="line">    </div>
<div class="line"><span class="comment">// &#39;sectionElements&#39; contains the B-Rep for the sections</span></div>
</div><!-- fragment --><p>HOOPS Exchange also offers the ability to compute a section for individual B-rep models within an assembly. The process is similar to the above example, except you would use the function <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___compute_section.html#ga13a93d32a2d51f7e15fe13b6b790686a">A3DComputePlanarSectionOnRepresentationItem</a>. An example result of the section functions is shown below. The original model is on the left. The computed section is on the right.</p>
<center> <div class="image">
<img src="images/motor section.png" />
</div>
 </center><p><a class="anchor" id="comparingPointClouds"></a></p><h3>7.6 Model to point cloud comparison</h3>
<p>Many manufacturers of high-precision machined parts have a need to quickly verify whether a finished part meets required tolerances. HOOPS Exchange can perform such an operation by comparing a CAD model with a point cloud dataset of the finished part. The comparison can be performed against the model's exact mathematical definition or its tessellated representation. When projecting a point cloud onto a mesh, please note that the coordinates of the projected point and the B-rep data of the face are not provided.</p>
<p>The function that does this work is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___project_point_cloud.html#ga211a860c56c0cfef660f02fce06b07df">A3DProjectPointCloud</a>. This function accepts the model definition and a point cloud supplied from a laser scanner or other tool. It returns a <em>projected point cloud</em>, which represents the difference between the real-world part and its mathematical definition. </p>
<p>You can use the point cloud to visually inspect any tolerance deficiencies in the manufactured part. For example, in the image below, a CAD model is shown next to a point cloud of a scanned real-world object.</p>
<center> <div class="image">
<img src="images/model.png" />
</div>
 </center><p>Using the projected point cloud returned from <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___project_point_cloud.html#ga211a860c56c0cfef660f02fce06b07df">A3DProjectPointCloud</a>, a the real-world surface can be overlaid (below, left) on the model. Or, a heat map (below, right) could be applied to the model to show defects in tolerance:</p>
<center> <div class="image">
<img src="images/surfaces.png" />
</div>
 </center><p><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___project_point_cloud.html#ga211a860c56c0cfef660f02fce06b07df">A3DProjectPointCloud</a> is recommended over inspecting each point individually because our algorithm is able to inspect multiple points simultaneously using multithreading, automatically determines which points should be compared against each face, and is able to batch comparison operations together to further boost performance.</p>
<p>Of additional interest is <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d___project_point_cloud.html#ga49f02178f466ea077a4fbc38b4bf26a3">A3DProjectPointCloud2</a>, a similar function which can use a <span class="code">A3DProjectPointCloudManager</span> to optimize the computation time when projecting several consecutive point cloud lists onto the same model.</p>
<p><a class="anchor" id="shattered"></a></p><h3>7.7 Shattered loading</h3>
<p>Shattered loading refers to loading all files in an assembly individually as modules, rather than as dependencies. This type of loading is beneficial when dealing with large models with many parts, such as those managed by a PLM system. If such a model was loaded conventionally, any small change to one of its parts would require a complete reload of the entire assembly, which could take a significant amount of time. Shattered loading solves this problem by loading each part as a module that can be updated without regerating the entire assembly. This approach can also offer considerable performance benefits by enabling you to load elements of the assembly concurrently.</p>
<p>In order to make use of shattered loading, you must load an assembly that was saved as a shattered assembly. This means you must load each CAD file in the assembly with the "shattered" option (using the option <span class="code">LoadStructureOnly = true</span>). Once done, the file can be exported to PRC - no specific option needs to be used. If we do that for each CAD file in an assembly, we'll obtain a list of PRC files. This list of PRC files can be used to reload the full model using <span class="code">A3DAsmModelFileLoadFromPRCFiles</span>.</p>
<p>When doing your import, set your import structure's <span class="code">m_bLoadNoDependencies</span> field to <span class="code">true</span> to cause no dependendies to be loaded:</p>
<div class="fragment"><div class="line">A3DImport sImport(ppAssembly);</div>
<div class="line">sImport.m_sLoadData.m_sIncremental.m_bLoadNoDependencies = <span class="keyword">true</span>;</div>
</div><!-- fragment --><p>Repeat this process for each file. When finished, the full model will be loaded into memory from these multiple independent parts.</p>
</div></div><!-- contents -->

    <div id="accordion" class="sidebar">
		<p class="accordion-toggle">Overview</p>
			<div class="accordion-content overview">
				<ul>
					<li><a href="technical_overview.html">Technical&nbsp;Overview</a></li>
					<li><a href="getting_started.html">Getting&nbsp;Started</a></li>
					<li><a href="distributing_your_application.html">Distributing Platforms</a></li>
					<li><a href="supported_platforms.html">Supported Platforms</a></li>
					<li><a href="overview.html">File Formats</a></li>
					<li><a href="release_notes.html">Release&nbsp;Notes</a></li>
					<li><a href="samples.html">Sample Code</a></li>
					<li><a href="acknowledgments.html">Acknowledgments</a></li>
					<li><a href="http://developer.techsoft3d.com/developer-support/" target="_blank">Contact Support</a></li>
				</ul>
			</div>
		<p class="accordion-toggle">Programming Guide</p>
			<div class="accordion-content default">
				<div class="indent">
					<p class="accordion-toggle">1 Introduction</p>
					<ul>
						<li><a href="introduction.html">1.0 Introduction</a></li>
						<li><a href="initialize_exchange.html">1.1 Initializing HOOPS Exchange</a></li>
						<li><a href="api_conventions.html">1.2 API Conventions</a></li>
					</ul>
					<p class="accordion-toggle">2 Basic Operations</p>
					<ul>
						<li><a href="load_model.html">2.1 Simple Model Load and Export</a></li>
						<li><a href="prc.html">2.2 PRC Basics</a></li>
						<li><a href="building_prc.html">2.3 Building PRC</a></li>
					</ul>
					<p class="accordion-toggle">3 Entities</p>
					<ul>
						<li><a href="product_occurrence.html">3.0 Product Occurrences</a></li>
						<li><a href="product_occurrence.html#partDefinitions">3.1 Part Definitions</a></li>
						<li><a href="product_occurrence.html#prototypes">3.2 Prototypes</a></li>
						<li><a href="product_occurrence.html#externals">3.3 Externals</a></li>
						<li><a href="product_occurrence.html#displayParameters">3.4 Display Parameters</a></li>
						<li><a href="product_occurrence.html#filtersLayers">3.5 Filters and Layers</a></li>
						<li><a href="product_occurrence.html#configurations">3.6 Configurations</a></li>
						<li><a href="persistent_ids.html">3.7 Persistent IDs</a></li>
					</ul>
                    <p class="accordion-toggle">4 Geometry</p>
					<ul>
						<li><a href="reading_geometry.html">4.0 Reading Model Geometry</a></li>
						<li><a href="getting_tessellation.html">4.1 Getting Tessellation</a></li>
						<li><a href="getting_brep.html">4.2 Getting B-rep Data</a></li>
						<li><a href="tessellation_example.html">4.3 Tessellation Example</a></li>
						<li><a href="approx_as_analytic.html">4.4 Display Parameters</a></li>
					</ul>
                    <p class="accordion-toggle">5 Entity Attributes</p>
					<ul>
						<li><a href="colors_materials.html">5.1 Colors and Materials</a></li>
						<li><a href="managing_attribute_inheritance.html">5.2 Managing Attribute Inheritance</a></li>
						<li><a href="transformations.html">5.3 Transformations</a></li>
					</ul>
                    <p><a href="markup.html">6 Markup and Views</a></p>
                    <p class="accordion-toggle">7 Advanced Functions</p>
					<ul>
						<li><a href="advanced.html#computingLengths">7.1 Computing Lengths</a></li>
						<li><a href="advanced.html#physicalProperties">7.2 Getting Physical Properties</a></li>
						<li><a href="advanced.html#modelCompare">7.3 Model Compare</a></li>
						<li><a href="advanced.html#modelSewing">7.4 Model Sewing</a></li>
						<li><a href="advanced.html#computingSections">7.5 Computing Sections</a></li>
						<li><a href="advanced.html#comparingPointClouds">7.6 Model to Point Cloud Comparison</a></li>
						<li><a href="advanced.html#shattered">7.7 Shattered Loading</a></li>
					</ul>
                    <p><a href="hoops_exchange_for_parasolid_developers.html">8 HOOPS Exchange for Parasolid Developers</a></p>
				</div>
			</div>
		<p class="accordion-toggle">API Reference</p>
			<div class="accordion-content api_ref">
				<ul>
					<li><a href="classes.html">Data Structures</a></li>
					<li><a href="f_index.html">Functions</a></li>
					<li><a href="modules.html">Modules</a></li>
					<li><a href="files.html">Files</a></li>
					<li><a href="functions.html">Fields</a></li>
					<li><a href="globals.html">Globals</a></li>
				</ul>
			</div>
    </div>
<div class="footer">
	HOOPS Exchange 2016 SP1 U4&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.techsoft3d.com">www.techsoft3d.com</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://developer.techsoft3d.com">developer.techsoft3d.com</a>
</div>
</body>
</html>