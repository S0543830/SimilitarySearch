<!doctype html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../common/doxygen.css">
	<link rel="stylesheet" href="../common/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="dynsections.js"></script>
	<script src="../common/sidebar.js"></script>
    <title>HOOPS Exchange Documentation</title>
    <link rel="shortcut icon" href="../common/favicon.ico">
</head>
<body>
<div class="header-background">
	<div class="header-margins">
        <div style="float: left;"><img src="../product/images/logo.png"></div>
        <div style="margin-left: 520px; margin-right: 20px;">
            <div class="search" id="Search"> 
                <form method="get" action="http://developer.techsoft3d.com/cgi/swish-hoops-exchange.cgi" enctype="application/x-www-form-urlencoded" class="form">
                    <label style='color: gray;'>Search: </label>
                    <input maxlength="200" value="" size="20" name="query" type="text">
                </form>
            </div>
        </div>
    </div>
</div>
<div class="cdiv">
<div class="content-body">
<div class="content-internalframe"><!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="contents">
<div class="textblock"><p> 
</div></div>
</p>
<h2>1.2 API Conventions</h2>
<p>The HOOPS Exchange library is written in the C++ programming language. However, all C++ interfaces are hidden and the library is exposed as a C API. See the <a href="initialize_exchange.html">initialization section</a> for information on how to set up HOOPS Exchange.</p>
<h3>Naming conventions</h3>
<p>All HOOPS Exchange functions and data structures start with the <span class="code">A3D</span> prefix. Some enums start with the <span class="code">kA3D</span> prefix. Whenever possible, a secondary prefix is also employed. For example, if you are using a data structure that represents a representation item, it will have the secondary prefix <span class="code">Ri</span>:</p>
<div class="fragment"><div class="line"><span class="comment">// data structure for representation item</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_representation_item_data.html">A3DRiRepresentationItemData</a></div>
<div class="line"> </div>
<div class="line"><span class="comment">// calling a function that handles representation items</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__ricurve.html#gad9a7e1876ae811baa1d22bfc2c10ba4e">A3DRiCurveCreate</a>(myCurveData, myRICrv);</div>
</div><!-- fragment --><p>This paradigm is extended to most data structures and functions. You can use these abbreviations to quickly discover what the data structure or function operates on:</p>
<ul class="square">
<li>
<span class="code">Asm</span> - assembly </li>
<li>
<span class="code">Crv</span> - curve </li>
<li>
<span class="code">Mkp</span> - markup </li>
<li>
<span class="code">Surf</span> - surface </li>
<li>
<span class="code">Tess</span> - tessellation </li>
<li>
<span class="code">Topo</span> - topology </li>
</ul>
<p>Sometimes, you will encounter a data structure of a generalized form. For example, the <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_ri_representation_item_data.html">A3DRiRepresentationItemData</a> structure has the field <span class="code">m_pTessBase</span>, which is of type <a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__tessellation__types.html#ga978fcb78ca2b5b41bda5ca7957872a33">A3DTessBase</a>. At some point, you will find it necessary to discover the exact type of this object. This is done in the following way:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#ga4e3c6bc1e67a6f663cd1ee85ef7dc70f">A3DEEntityType</a> entityType;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__type__functions.html#ga9ff2b9f4eb31961b4d68a1b17f270bdd">A3DEntityGetType</a>(baseType, &amp;entityType);</div>
</div><!-- fragment --><p>You then test the returned type against all possible types:</p>
<div class="fragment"><div class="line"><span class="keywordflow">switch</span> (entityType)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">case</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa716998a5008a8e57a92e79795aca60a9">kA3DTypeTess3D</a>:</div>
<div class="line">        <span class="comment">// it is of type A3DTess3D</span></div>
<div class="line">    <span class="keywordflow">case</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa4d6d2c049223531837f4170bf7e3f856">kA3DTypeTess3DWire</a>:</div>
<div class="line">        <span class="comment">// it is of type A3DTypeTess3DWire</span></div>
<div class="line">    <span class="keywordflow">case</span> <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__types__enum.html#gga4e3c6bc1e67a6f663cd1ee85ef7dc70fa4dd58254cb4616f3338098640bf6acd1">kA3DTypeTessFace</a>:</div>
<div class="line">        <span class="comment">// it is of type A3DTypeTessFace</span></div>
</div><!-- fragment --><p>Finally, after you know the type, you can get the tessellation data. For an example of how to get data associated with an entity, see the next subsection on "Getting node data".</p>
<h3><a class="anchor" id="getting-node-data"></a>Getting node data</h3>
<p>In a HOOPS Exchange assembly tree, data associated with a node is stored separately from the node itself. While traversing the tree, you will be traversing its nodes only. Therefore, when you need a node's associated data, you must explicitly populate it before it can be used. For example, assuming you have a reference to a part definition node <span class="code">partDefNode</span>, the general sequence for getting the data associated with a part definition is as follows:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#gaf3e6be2ea18b59e0c45f969886222cf0">A3DAsmPartDefinition</a> partDefNode = <span class="comment">// ... get part definition reference</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// &#39;pdData&#39; is the structure that will hold the node&#39;s data</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_part_definition_data.html">A3DAsmPartDefinitionData</a> partDefData;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// initialize the &#39;partDefData&#39; memory</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_part_definition_data.html">A3DAsmPartDefinitionData</a>, partDefData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// fill &#39;partDefData&#39; with the data from &#39;partDefNode&#39;</span></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__partdefinition.html#ga89cacecac352061597c2fb2297e2e427">A3DAsmPartDefinitionGet</a>(partDefNode, &amp;partDefData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// partDefData now has the data associated with the node &#39;partDefNode&#39;</span></div>
</div><!-- fragment --><p>Other node types follow a similar pattern. If the initialized entity contains arrays, <span class="code">A3D_INITIALIZE_DATA</span> will allocate memory for those arrays. For these entities, you are responsible for freeing the memory by calling the initialization function again with a <span class="code">NULL</span> parameter:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__partdefinition.html#ga89cacecac352061597c2fb2297e2e427">A3DAsmPartDefinitionGet</a>(NULL, &amp;partDefData);</div>
</div><!-- fragment --><p><b>NOTE:</b> For simplicity and brevity, the code samples in this manual do not always explicitly show allocated memory being released. However, this should always be done for structures that allocate additional memory for arrays. <b>If you do not delete your structures in this way, you will have a memory leak.</b></p>
<p>This pattern of <span class="code">A3D&lt;OBJECTNAME&gt;Get</span> is used to initialize structures for many HOOPS Exchange objects. Additionally, the pattern extends to object creation - <span class="code">A3D&lt;OBJECTNAME&gt;Create</span> can be used to create nodes or attributes, when necessary. When creating objects, it is your resonsibility to also delete them using the corresponding function <span class="code">A3D&lt;OBJECTNAME&gt;Delete</span>. For example:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__tools__data__types.html#gaf862502a250347db8bd5a92f760398ca">A3DMiscCascadedAttributes</a>* pAttr;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__cascadedattributes.html#gaf299a323a315dcd8bbb9142a560a4ffa">A3DMiscCascadedAttributesCreate</a>(&amp;pAttr);</div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__cascadedattributes.html#ga23ebd09980b4fa10f9ba7ea1e4b93686">A3DMiscCascadedAttributesDelete</a>(pAttr);</div>
</div><!-- fragment --><h3>Data types and field names</h3>
<p>In order to ensure type size is consistent across systems, HOOPS Exchange uses substitutes for primitive types. For example, the <span class="code">double</span> primitive has been replaced by <span class="code">A3DDouble</span> and <span class="code">bool</span> has been replaced by <span class="code">A3DBool</span>. If a type represents unsigned data, it will include the <span class="code">Uns</span> prefix. In certain cases, the type length is also included. For example, a 16-bit unsigned type will take the form <span class="code">A3DUns16</span>.</p>
<p>The primitive types are defined in <span class="filename"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_types_8h.html">A3DSDKTypes.h</a></span> and include:</p>
<ul class="square">
<li>
<span class="code">A3DInt8</span> </li>
<li>
<span class="code">A3DInt16</span> </li>
<li>
<span class="code">A3DInt32</span> </li>
<li>
<span class="code">A3DUns8</span> </li>
<li>
<span class="code">A3DUns16</span> </li>
<li>
<span class="code">A3DUns32</span> </li>
<li>
<span class="code">A3DFloat</span> </li>
<li>
<span class="code">A3DDouble</span> </li>
<li>
<span class="code">A3DBool</span> </li>
<li>
<span class="code">A3DPtr</span> </li>
<li>
<span class="code">A3DVoid</span> </li>
<li>
<span class="code">A3DUTF8Char</span> </li>
<li>
<span class="code">A3DUniChar</span> </li>
</ul>
<p>In general, Hungarian notation is used for field names. Field names are also prefixed by <span class="code">m_</span>. For example, the field <span class="code">m_uiViewsSize</span> indicates this member is an unsigned integer, and <span class="code">m_ppViews</span> is a pointer to a pointer of views.</p>
<h3>Compatibility with different PRC format versions</h3>
<p>HOOPS Exchange provides backward compatibility with other PRC format versions.</p>
<p>In a major release, the HOOPS Exchange support for PRC is backward compatible. Each new version of the software can read PRC files that conform to an earlier PRC format version.</p>
<p>In terms of HOOPS Exchange itself, we have a policy when making API changes. First, a function is marked as deprecated, and it remains that way for a major release cycle before finally being removed. In this way, old source code will still compile for a limited time even with new versions of HOOPS Exchange.</p>
<h3>Character encoding</h3>
<p>HOOPS Exchange uses <a href="http://tools.ietf.org/html/rfc3629" target="_blank">UTF-8 character encoding</a>. The API provides these functions for Unicode conversion:</p>
<ul class="square">
<li>
<span class="code">A3DMiscUnicodeToUTF8</span> </li>
<li>
<span class="code">A3DMiscUTF16ToUTF8</span> </li>
<li>
<span class="code">A3DMiscUTF8ToUnicode</span> </li>
<li>
<span class="code">A3DMiscUTF8ToUTF16</span> </li>
</ul>
<h3>Handling errors</h3>
<p>Most HOOPS Exchange functions return an integer return code. Your code should always check that a function was successful before continuing. If a function terminates without error, it will return <span class="code">A3D_SUCCESS</span>. All error codes are defined in <span class="filename"><a class="elRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_error_codes_8h.html">A3DSDKErrorCodes.h</a></span>.</p>
</div></div><!-- contents -->

    <div id="accordion" class="sidebar">
		<p class="accordion-toggle">Overview</p>
			<div class="accordion-content overview">
				<ul>
					<li><a href="technical_overview.html">Technical&nbsp;Overview</a></li>
					<li><a href="getting_started.html">Getting&nbsp;Started</a></li>
					<li><a href="distributing_your_application.html">Distributing Platforms</a></li>
					<li><a href="supported_platforms.html">Supported Platforms</a></li>
					<li><a href="overview.html">File Formats</a></li>
					<li><a href="release_notes.html">Release&nbsp;Notes</a></li>
					<li><a href="samples.html">Sample Code</a></li>
					<li><a href="acknowledgments.html">Acknowledgments</a></li>
					<li><a href="http://developer.techsoft3d.com/developer-support/" target="_blank">Contact Support</a></li>
				</ul>
			</div>
		<p class="accordion-toggle">Programming Guide</p>
			<div class="accordion-content default">
				<div class="indent">
					<p class="accordion-toggle">1 Introduction</p>
					<ul>
						<li><a href="introduction.html">1.0 Introduction</a></li>
						<li><a href="initialize_exchange.html">1.1 Initializing HOOPS Exchange</a></li>
						<li><a href="api_conventions.html">1.2 API Conventions</a></li>
					</ul>
					<p class="accordion-toggle">2 Basic Operations</p>
					<ul>
						<li><a href="load_model.html">2.1 Simple Model Load and Export</a></li>
						<li><a href="prc.html">2.2 PRC Basics</a></li>
						<li><a href="building_prc.html">2.3 Building PRC</a></li>
					</ul>
					<p class="accordion-toggle">3 Entities</p>
					<ul>
						<li><a href="product_occurrence.html">3.0 Product Occurrences</a></li>
						<li><a href="product_occurrence.html#partDefinitions">3.1 Part Definitions</a></li>
						<li><a href="product_occurrence.html#prototypes">3.2 Prototypes</a></li>
						<li><a href="product_occurrence.html#externals">3.3 Externals</a></li>
						<li><a href="product_occurrence.html#displayParameters">3.4 Display Parameters</a></li>
						<li><a href="product_occurrence.html#filtersLayers">3.5 Filters and Layers</a></li>
						<li><a href="product_occurrence.html#configurations">3.6 Configurations</a></li>
						<li><a href="persistent_ids.html">3.7 Persistent IDs</a></li>
					</ul>
                    <p class="accordion-toggle">4 Geometry</p>
					<ul>
						<li><a href="reading_geometry.html">4.0 Reading Model Geometry</a></li>
						<li><a href="getting_tessellation.html">4.1 Getting Tessellation</a></li>
						<li><a href="getting_brep.html">4.2 Getting B-rep Data</a></li>
						<li><a href="tessellation_example.html">4.3 Tessellation Example</a></li>
						<li><a href="approx_as_analytic.html">4.4 Display Parameters</a></li>
					</ul>
                    <p class="accordion-toggle">5 Entity Attributes</p>
					<ul>
						<li><a href="colors_materials.html">5.1 Colors and Materials</a></li>
						<li><a href="managing_attribute_inheritance.html">5.2 Managing Attribute Inheritance</a></li>
						<li><a href="transformations.html">5.3 Transformations</a></li>
					</ul>
                    <p><a href="markup.html">6 Markup and Views</a></p>
                    <p class="accordion-toggle">7 Advanced Functions</p>
					<ul>
						<li><a href="advanced.html#computingLengths">7.1 Computing Lengths</a></li>
						<li><a href="advanced.html#physicalProperties">7.2 Getting Physical Properties</a></li>
						<li><a href="advanced.html#modelCompare">7.3 Model Compare</a></li>
						<li><a href="advanced.html#modelSewing">7.4 Model Sewing</a></li>
						<li><a href="advanced.html#computingSections">7.5 Computing Sections</a></li>
						<li><a href="advanced.html#comparingPointClouds">7.6 Model to Point Cloud Comparison</a></li>
						<li><a href="advanced.html#shattered">7.7 Shattered Loading</a></li>
					</ul>
                    <p><a href="hoops_exchange_for_parasolid_developers.html">8 HOOPS Exchange for Parasolid Developers</a></p>
				</div>
			</div>
		<p class="accordion-toggle">API Reference</p>
			<div class="accordion-content api_ref">
				<ul>
					<li><a href="classes.html">Data Structures</a></li>
					<li><a href="f_index.html">Functions</a></li>
					<li><a href="modules.html">Modules</a></li>
					<li><a href="files.html">Files</a></li>
					<li><a href="functions.html">Fields</a></li>
					<li><a href="globals.html">Globals</a></li>
				</ul>
			</div>
    </div>
<div class="footer">
	HOOPS Exchange 2016 SP1 U4&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.techsoft3d.com">www.techsoft3d.com</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://developer.techsoft3d.com">developer.techsoft3d.com</a>
</div>
</body>
</html>