<!doctype html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../common/doxygen.css">
	<link rel="stylesheet" href="../common/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="dynsections.js"></script>
	<script src="../common/sidebar.js"></script>
    <title>HOOPS Exchange Documentation</title>
    <link rel="shortcut icon" href="../common/favicon.ico">
</head>
<body>
<div class="header-background">
	<div class="header-margins">
        <div style="float: left;"><img src="../product/images/logo.png"></div>
        <div style="margin-left: 520px; margin-right: 20px;">
            <div class="search" id="Search"> 
                <form method="get" action="http://developer.techsoft3d.com/cgi/swish-hoops-exchange.cgi" enctype="application/x-www-form-urlencoded" class="form">
                    <label style='color: gray;'>Search: </label>
                    <input maxlength="200" value="" size="20" name="query" type="text">
                </form>
            </div>
        </div>
    </div>
</div>
<div class="cdiv">
<div class="content-body">
<div class="content-internalframe"><!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="contents">
<div class="textblock"><p> 
</div></div>
</p>
<h2>2.3.2 Creating PRC entities</h2>
<p>This section explains how to create the PRC entities that represent the structure of the PRC file, such as the model file, product occurrences, and part definitions. The names of structure module entities have the form <span class="code">A3DAsm<em><b>Entity_name</b></em></span>.</p>
<h3><a class="anchor" id="1541798"></a>Create a model file entity</h3>
<ol>
<li style="margin-bottom: 10px;">
<p class="startli">If the model file references multiple product occurrences, create an array to accommodate a pointer that references each product occurrence.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">For each product occurrence in the model file, create a pointer that references a populated product occurrence entity. (See <a href="building_prc_2.html#1541763">Create a product occurrence</a>.) In the following example, <span class="code">createOccurrence</span> is a private function that returns a pointer to a populated product occurrence.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#ga1c8f3d19250cb0e87b1ca2576198393a">A3DAsmProductOccurrence</a>* p = createOccurrence();</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
Declare and initialize a model file data structure and set the values of its members, as follows: <ul class="square" style="margin-top: 10px;">
<li style="margin-bottom: 10px;">
<p class="startli"><span class="code">m_uiPOccurrencesSize</span> represents the number of child product occurrences.</p>
<p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
<p class="startli"><span class="code">m_dUnit</span> is a multiple of millimeters that specifies the units used by the 3D data in the structure element.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><span class="code">m_ppPOccurrences</span> references the array of product occurrence pointers.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_model_file_data.html">A3DAsmModelFileData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_model_file_data.html#a9d2e34ddc8de0f76502d7ee76c210efe">m_uiPOccurrencesSize</a> = 1;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_model_file_data.html#a5d5d96e6ea122443f2383c546051faa4">m_dUnit</a> = 1.0;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_model_file_data.html#a15851264753c1ce5fa89578a923f1bae">m_ppPOccurrences</a> = &amp;p;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Encapsulate the model file data by invoking the <span class="code">A3DAsmModelFileCreate</span> function. The first argument is a pointer to the model file data, and the second argument is a pointer to the model file entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__modelfile.html#gade331b0944d835c363f3ca834e16de1c">A3DAsmModelFileCreate</a>(&amp;sData, &amp;pModelFile);</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
Optionally, associate the model file entity with root-level attributes (see <a href="building_prc_6.html#1596020">Defining root-level attributes for a PRC entity</a>). </li>
</ul>
</li>
</ol>
<h3><a class="anchor" id="1541763"></a>Create a product occurrence</h3>
<ol>
<li>
<p class="startli">Declare a null pointer to a product occurrence. </p><div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#ga1c8f3d19250cb0e87b1ca2576198393a">A3DAsmProductOccurrence</a>* pProductOccurrrence = NULL;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Create a pointer to a populated part definition. (See <a href="building_prc_2.html#1544165">Create a part definition</a>.) In the following example, <span class="code">createPart</span> is a private function that returns a pointer to a populated part definition entity.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#gaf3e6be2ea18b59e0c45f969886222cf0">A3DAsmPartDefinition</a>* p = createPart();</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Set the <span class="code">m_pPart</span> member to reference the part created in Step 2.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_product_occurrence_data.html">A3DAsmProductOccurrenceData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_product_occurrence_data.html#ad642d5bc47b509d5b66756eb5ec59c66">m_pPart</a> = p;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the product occurrence data as a PRC entity by invoking the <span class="code">A3DAsmProductOccurrenceCreate</span> function. The first argument is a pointer to the product occurrence data, and the second argument is an indirect pointer to the product occurrence.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__productoccurrence.html#gabf5f2cd18acf7c2e47941a82cff630dc">A3DAsmProductOccurrenceCreate</a>(&amp;sData, &amp;pProductOccurrence);</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
Define the cascaded attributes for the product occurrence. (See <a href="building_prc_6.html#1596020">Defining root-level attributes for a PRC entity</a>.) </li>
</ol>
<h3><a class="anchor" id="1544165"></a>Create a part definition</h3>
<ol>
<li>
<p class="startli">Declare a null pointer to a part definition. </p><div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__structure__types.html#gaf3e6be2ea18b59e0c45f969886222cf0">A3DAsmPartDefinition</a>* pPartDefinition = NULL;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Declare and initialize a part definition data structure, as shown in the following example.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_part_definition_data.html">A3DAsmPartDefinitionData</a> sData;</div>
<div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./_a3_d_s_d_k_initialize_functions_8h.html#a874707247fe3898ce09144884ea08eb3">A3D_INITIALIZE_DATA</a>(sData);</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">For each representation item referenced by this part definition, create a pointer to that representation item and populate it. (See <a href="building_prc_3.html#1581565">Create a B-rep model representation item</a>) In the following example, <span class="code">createRIBrep</span> is a private function that returns a pointer to a populated B-rep representation item.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__repitems__types.html#ga388f0de3dcd14843e7f0c4a501c5ade7">A3DRiRepresentationItem</a>* p = createRIBrep();</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li style="margin-bottom: 10px;">
<p class="startli">Set the <span class="code">m_uiRepItemsSize</span> member of the part definition to the number of representation items.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Set the m_ppRepItems member of the part definition to the array of pointers for the representation items. The following example describes a part definition that references a single representation item:</p>
<div class="fragment"><div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_part_definition_data.html#a7825b087f65c3662c16f4d905eacd847">m_uiRepItemsSize</a> = 1;</div>
<div class="line">sData.<a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./struct_a3_d_asm_part_definition_data.html#ac128a2aff753fb82550ef5d2bba56614">m_ppRepItems</a> = &amp;p;</div>
</div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Package the part definition data as a PRC entity by invoking the <span class="code">A3DAsmPartDefinitionCreate</span> function. The first argument is a pointer to the product occurrence data, and the second is the pointer to the part definition created in Step 1.</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__fundamental__types.html#gadb795b7e91d100ff8557dca9e17ef1aa">A3DInt32</a> iRet = <a class="codeRef" doxygen="D:/Jenkins/workspace/MakeDoc_Hoops3DX/final-package/documentation.exchange/build/api_ref/exchange.tag:./" href="./group__a3d__partdefinition.html#ga4ed1cf27963726e10e952f8b91c0eff6">A3DAsmPartDefinitionCreate</a>(&amp;sData, &amp;pPartDefinition);</div>
</div><!-- fragment -->  </li>
</ol>
</div></div><!-- contents -->

    <div id="accordion" class="sidebar">
		<p class="accordion-toggle">Overview</p>
			<div class="accordion-content overview">
				<ul>
					<li><a href="technical_overview.html">Technical&nbsp;Overview</a></li>
					<li><a href="getting_started.html">Getting&nbsp;Started</a></li>
					<li><a href="distributing_your_application.html">Distributing Platforms</a></li>
					<li><a href="supported_platforms.html">Supported Platforms</a></li>
					<li><a href="overview.html">File Formats</a></li>
					<li><a href="release_notes.html">Release&nbsp;Notes</a></li>
					<li><a href="samples.html">Sample Code</a></li>
					<li><a href="acknowledgments.html">Acknowledgments</a></li>
					<li><a href="http://developer.techsoft3d.com/developer-support/" target="_blank">Contact Support</a></li>
				</ul>
			</div>
		<p class="accordion-toggle">Programming Guide</p>
			<div class="accordion-content default">
				<div class="indent">
					<p class="accordion-toggle">1 Introduction</p>
					<ul>
						<li><a href="introduction.html">1.0 Introduction</a></li>
						<li><a href="initialize_exchange.html">1.1 Initializing HOOPS Exchange</a></li>
						<li><a href="api_conventions.html">1.2 API Conventions</a></li>
					</ul>
					<p class="accordion-toggle">2 Basic Operations</p>
					<ul>
						<li><a href="load_model.html">2.1 Simple Model Load and Export</a></li>
						<li><a href="prc.html">2.2 PRC Basics</a></li>
						<li><a href="building_prc.html">2.3 Building PRC</a></li>
					</ul>
					<p class="accordion-toggle">3 Entities</p>
					<ul>
						<li><a href="product_occurrence.html">3.0 Product Occurrences</a></li>
						<li><a href="product_occurrence.html#partDefinitions">3.1 Part Definitions</a></li>
						<li><a href="product_occurrence.html#prototypes">3.2 Prototypes</a></li>
						<li><a href="product_occurrence.html#externals">3.3 Externals</a></li>
						<li><a href="product_occurrence.html#displayParameters">3.4 Display Parameters</a></li>
						<li><a href="product_occurrence.html#filtersLayers">3.5 Filters and Layers</a></li>
						<li><a href="product_occurrence.html#configurations">3.6 Configurations</a></li>
						<li><a href="persistent_ids.html">3.7 Persistent IDs</a></li>
					</ul>
                    <p class="accordion-toggle">4 Geometry</p>
					<ul>
						<li><a href="reading_geometry.html">4.0 Reading Model Geometry</a></li>
						<li><a href="getting_tessellation.html">4.1 Getting Tessellation</a></li>
						<li><a href="getting_brep.html">4.2 Getting B-rep Data</a></li>
						<li><a href="tessellation_example.html">4.3 Tessellation Example</a></li>
						<li><a href="approx_as_analytic.html">4.4 Display Parameters</a></li>
					</ul>
                    <p class="accordion-toggle">5 Entity Attributes</p>
					<ul>
						<li><a href="colors_materials.html">5.1 Colors and Materials</a></li>
						<li><a href="managing_attribute_inheritance.html">5.2 Managing Attribute Inheritance</a></li>
						<li><a href="transformations.html">5.3 Transformations</a></li>
					</ul>
                    <p><a href="markup.html">6 Markup and Views</a></p>
                    <p class="accordion-toggle">7 Advanced Functions</p>
					<ul>
						<li><a href="advanced.html#computingLengths">7.1 Computing Lengths</a></li>
						<li><a href="advanced.html#physicalProperties">7.2 Getting Physical Properties</a></li>
						<li><a href="advanced.html#modelCompare">7.3 Model Compare</a></li>
						<li><a href="advanced.html#modelSewing">7.4 Model Sewing</a></li>
						<li><a href="advanced.html#computingSections">7.5 Computing Sections</a></li>
						<li><a href="advanced.html#comparingPointClouds">7.6 Model to Point Cloud Comparison</a></li>
						<li><a href="advanced.html#shattered">7.7 Shattered Loading</a></li>
					</ul>
                    <p><a href="hoops_exchange_for_parasolid_developers.html">8 HOOPS Exchange for Parasolid Developers</a></p>
				</div>
			</div>
		<p class="accordion-toggle">API Reference</p>
			<div class="accordion-content api_ref">
				<ul>
					<li><a href="classes.html">Data Structures</a></li>
					<li><a href="f_index.html">Functions</a></li>
					<li><a href="modules.html">Modules</a></li>
					<li><a href="files.html">Files</a></li>
					<li><a href="functions.html">Fields</a></li>
					<li><a href="globals.html">Globals</a></li>
				</ul>
			</div>
    </div>
<div class="footer">
	HOOPS Exchange 2016 SP1 U4&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.techsoft3d.com">www.techsoft3d.com</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://developer.techsoft3d.com">developer.techsoft3d.com</a>
</div>
</body>
</html>